{"remainingRequest":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\ruoyi-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\workspace\\ruoyi-ui\\src\\views\\biz\\tools\\biz\\ShpFile.js","dependencies":[{"path":"D:\\work\\workspace\\ruoyi-ui\\src\\views\\biz\\tools\\biz\\ShpFile.js","mtime":1715160826858},{"path":"D:\\work\\workspace\\ruoyi-ui\\babel.config.js","mtime":1677117676000},{"path":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyIpOwp2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoIkQ6L3dvcmsvd29ya3NwYWNlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5leHBvcnRQb2ludHMgPSBleHBvcnRQb2ludHM7CmV4cG9ydHMudGVzdCA9IHRlc3Q7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyIpOwp2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3BsdWdpbnMvc2hwd3JpdGUvZGlzdC9pbmRleC5qcyIpKTsKLy8gaW1wb3J0IHNocHdyaXRlIGZyb20gIkBtYXBib3gvc2hwLXdyaXRlIgoKZnVuY3Rpb24gZXhwb3J0UG9pbnRzKHBhcmFtKSB7CiAgdmFyIGZpbGVOYW1lID0gcGFyYW0uZmlsZU5hbWUgfHwgJ1N1cnZleW9yUGF0aFNocCc7CiAgdmFyIGxpc3QgPSBwYXJhbS5kYXRhOwogIGlmICghbGlzdCB8fCBsaXN0Lmxlbmd0aCA8IDEpIHsKICAgIHJldHVybjsKICB9CiAgdmFyIG9wdGlvbnMgPSB7CiAgICBvdXRwdXRUeXBlOiAiYmxvYiIsCiAgICBjb21wcmVzc2lvbjogIkRFRkxBVEUiLAogICAgdHlwZXM6IHsKICAgICAgcG9pbnQ6IGZpbGVOYW1lLAogICAgICBwb2x5Z29uOiBmaWxlTmFtZSwKICAgICAgcG9seWxpbmU6IGZpbGVOYW1lCiAgICB9CiAgfTsKICB2YXIgZmVhdHVyZXMgPSBbXTsKICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIHZhciBwcm9wZXJ0aWVzID0gaXRlbTsKICAgIGZlYXR1cmVzLnB1c2goewogICAgICB0eXBlOiAiRmVhdHVyZSIsCiAgICAgIGdlb21ldHJ5OiB7CiAgICAgICAgdHlwZTogIlBvaW50IiwKICAgICAgICBjb29yZGluYXRlczogW2l0ZW0ubG9uZ2l0dWRlLCBpdGVtLmxhdGl0dWRlXQogICAgICB9LAogICAgICBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzCiAgICB9KTsKICB9KTsKICB2YXIgZmMgPSB7CiAgICB0eXBlOiAiRmVhdHVyZUNvbGxlY3Rpb24iLAogICAgZmVhdHVyZXM6IGZlYXR1cmVzCiAgfTsKICBfaW5kZXguZGVmYXVsdC56aXAoZmMsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHsKICAgIHZhciBhTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgIGFMaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgYUxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYUxpbmspOwogICAgYUxpbmsuY2xpY2soKTsKICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYUxpbmspOwogIH0pOwp9CmZ1bmN0aW9uIHRlc3QoKSB7CiAgLy8gYSBHZW9KU09OIGJyaWRnZSBmb3IgZmVhdHVyZXMKICB2YXIgemlwRGF0YSA9IF9pbmRleC5kZWZhdWx0LnppcCh7CiAgICB0eXBlOiAiRmVhdHVyZUNvbGxlY3Rpb24iLAogICAgZmVhdHVyZXM6IFt7CiAgICAgIHR5cGU6ICJGZWF0dXJlIiwKICAgICAgZ2VvbWV0cnk6IHsKICAgICAgICB0eXBlOiAiTGluZVN0cmluZyIsCiAgICAgICAgY29vcmRpbmF0ZXM6IFtbMTEzLCAyOF0sIFsxMTMsIDI5XSwgWzExNCwgMjldLCBbMTE0LCAyOF1dCiAgICAgIH0sCiAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICBuYW1lOiAiRm9vIgogICAgICB9CiAgICB9LCB7CiAgICAgIHR5cGU6ICJGZWF0dXJlIiwKICAgICAgZ2VvbWV0cnk6IHsKICAgICAgICB0eXBlOiAiTGluZVN0cmluZyIsCiAgICAgICAgY29vcmRpbmF0ZXM6IFtbMTE0LCAyOF0sIFsxMTQsIDI5XSwgWzExNSwgMjldLCBbMTE1LCAyOF1dCiAgICAgIH0sCiAgICAgIHByb3BlcnRpZXM6IHsKICAgICAgICBuYW1lOiAi5Lit5paH5rWL6K+VYWFhYmMxMjM0IgogICAgICB9CiAgICB9XQogIH0sIHsKICAgIGZvbGRlcjogIm15X2ludGVybmFsX3NoYXBlc19mb2xkZXIiLAogICAgZmlsZW5hbWU6ICJteV96aXBfZmlsZW5hbWUiLAogICAgb3V0cHV0VHlwZTogImJsb2IiLAogICAgY29tcHJlc3Npb246ICJERUZMQVRFIiwKICAgIHR5cGVzOiB7CiAgICAgIHBvaW50OiAibXlwb2ludHMiLAogICAgICBwb2x5Z29uOiAibXlwb2x5Z29ucyIsCiAgICAgIHBvbHlsaW5lOiAibXlsaW5lcyIKICAgIH0KICB9KTsKICByZXR1cm4gemlwRGF0YTsKfQ=="},{"version":3,"names":["_index","_interopRequireDefault","require","exportPoints","param","fileName","list","data","length","options","outputType","compression","types","point","polygon","polyline","features","forEach","item","properties","push","type","geometry","coordinates","longitude","latitude","fc","shpwrite","zip","then","blob","aLink","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","test","zipData","name","folder","filename"],"sources":["D:/work/workspace/ruoyi-ui/src/views/biz/tools/biz/ShpFile.js"],"sourcesContent":["\n// import shpwrite from \"@mapbox/shp-write\"\nimport shpwrite from \"@/plugins/shpwrite/dist/index.js\"\n\nexport function exportPoints(param) {\n  const fileName = param.fileName || 'SurveyorPathShp'\n  const list = param.data\n  if (!list || list.length < 1) {\n    return\n  }\n  const options = {\n    outputType: \"blob\",\n    compression: \"DEFLATE\",\n    types: {\n      point: fileName,\n      polygon: fileName,\n      polyline: fileName\n    }\n  }\n  const features = []\n  list.forEach(item => {\n    const properties = item\n    features.push({\n      type: \"Feature\",\n      geometry: {\n        type: \"Point\",\n        coordinates: [item.longitude, item.latitude]\n      },\n      properties: properties\n    })\n  })\n  const fc = {\n    type: \"FeatureCollection\",\n    features: features\n  }\n  shpwrite.zip(fc, options).then(blob => {\n    const aLink = document.createElement('a')\n    aLink.href = URL.createObjectURL(blob)\n    aLink.download = fileName\n    document.body.appendChild(aLink)\n    aLink.click()\n    document.body.removeChild(aLink)\n  })\n}\n\n\nexport function test() {\n// a GeoJSON bridge for features\n  const zipData = shpwrite.zip(\n    {\n      type: \"FeatureCollection\",\n      features: [\n        {\n          type: \"Feature\",\n          geometry: {\n            type: \"LineString\",\n            coordinates: [\n              [113, 28],\n              [113, 29],\n              [114, 29],\n              [114, 28]\n            ]\n          },\n          properties: {\n            name: \"Foo\",\n          },\n        },\n        {\n          type: \"Feature\",\n          geometry: {\n            type: \"LineString\",\n            coordinates: [\n              [114, 28],\n              [114, 29],\n              [115, 29],\n              [115, 28]\n            ]\n          },\n          properties: {\n            name: \"中文测试aaabc1234\",\n          },\n        },\n      ],\n    }, {\n      folder: \"my_internal_shapes_folder\",\n      filename: \"my_zip_filename\",\n      outputType: \"blob\",\n      compression: \"DEFLATE\",\n      types: {\n        point: \"mypoints\",\n        polygon: \"mypolygons\",\n        polyline: \"mylines\",\n      }\n    }\n  );\n  return zipData\n}\n"],"mappings":"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"}]}