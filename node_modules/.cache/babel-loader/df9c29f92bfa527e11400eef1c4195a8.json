{"remainingRequest":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\babel-loader\\lib\\index.js!E:\\workspacevsCode\\web-ui-travel\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\workspacevsCode\\web-ui-travel\\src\\views\\AMyWork\\tools\\comm\\network2.js","dependencies":[{"path":"E:\\workspacevsCode\\web-ui-travel\\src\\views\\AMyWork\\tools\\comm\\network2.js","mtime":1721181441757},{"path":"E:\\workspacevsCode\\web-ui-travel\\babel.config.js","mtime":1677117676000},{"path":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1720856214296}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi93b3Jrc3BhY2V2c0NvZGUvd2ViLXVpLXRyYXZlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKdmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYXhpb3MiKSk7CnZhciBfbGVhZmxldCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgibGVhZmxldCIpKTsKdmFyIG5ldHdvcmtMYXllcjsKZnVuY3Rpb24gcGFyc2VYTUwoeG1sU3RyaW5nKSB7CiAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICB2YXIgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxTdHJpbmcsICd0ZXh0L3htbCcpOwogIHZhciByb3V0ZWxhdGxvbiA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgncm91dGVsYXRsb24nKTsKICB2YXIgbGF0TG5ncyA9IFtdOwogIGlmIChyb3V0ZWxhdGxvbikgewogICAgdmFyIHBvaW50c1N0ciA9IHJvdXRlbGF0bG9uWzBdLmlubmVySFRNTDsKICAgIHZhciBhcnIgPSBwb2ludHNTdHIuc3BsaXQoJzsnKTsKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciB4eSA9IGl0ZW0uc3BsaXQoJywnKTsKICAgICAgaWYgKHh5Lmxlbmd0aCA9PT0gMikgewogICAgICAgIGxhdExuZ3MucHVzaChfbGVhZmxldC5kZWZhdWx0LmxhdExuZyh4eVsxXSwgeHlbMF0pKTsKICAgICAgfQogICAgfSk7CiAgfQogIHJldHVybiBsYXRMbmdzOwp9CmZ1bmN0aW9uIGZpbmRSb3V0ZTIoc3RhcnQsIGVuZCwgc3R5bGUsIG9wdGlvbnMpIHsKICBjbGVhcigpOwogIHZhciBvcmlnID0gJyInICsgc3RhcnQubG5nICsgJywgJyArIHN0YXJ0LmxhdCArICciJzsKICB2YXIgZGVzdCA9ICciJyArIGVuZC5sbmcgKyAnLCAnICsgZW5kLmxhdCArICciJzsKICB2YXIgbmF2c3R5bGUgPSBzdHlsZTsKICBjb25zb2xlLmxvZygnb3JpZycsIG9yaWcsIGRlc3QpOwogIF9heGlvcy5kZWZhdWx0LmdldCgnaHR0cDovL2FwaS50aWFuZGl0dS5nb3YuY24vZHJpdmU/cG9zdFN0cj17Im9yaWciOicgKyBvcmlnICsgJywiZGVzdCI6JyArIGRlc3QgKyAnLCJzdHlsZSI6JyArIG5hdnN0eWxlICsgJ30mdHlwZT1zZWFyY2gmdGs9ODlkZWEzZWFiNTYxZjBkZmI5ODY3ZTUzMTQxNWUwMTUnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgIGNvbnNvbGUubG9nKCdyZXMnLCByZXMpOwogICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgIHZhciBsYXRMbmdzID0gcGFyc2VYTUwoZGF0YSk7CiAgICBpZiAob3B0aW9ucy5jYWxsYmFjaykgewogICAgICBvcHRpb25zLmNhbGxiYWNrKGxhdExuZ3MpOwogICAgfQogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJvdXRlOicsIGVycik7CiAgfSk7Cn0KCi8qKgogKiBAYXBpR3JvdXAg572R57uc5YiG5p6QCiAqIEBhcGkgY2xlYXIg5riF6Zmk572R57uc5YiG5p6Q6Lev5b6E57q/CiAqIEBhcGlQYXJhbUV4YW1wbGUg56S65L6LCiAgIE5ldHdvcmsuY2xlYXIoKQogKi8KZnVuY3Rpb24gY2xlYXIoKSB7CiAgaWYgKG5ldHdvcmtMYXllcikgewogICAgbmV0d29ya0xheWVyLmNsZWFyTGF5ZXJzKCk7CiAgfQp9CgovKioKICogQGFwaUdyb3VwIOe9kee7nOWIhuaekAogKiBAYXBpIGltcG9ydCDmqKHlnZflvJXlhaUKICogQGFwaURlc2NyaXB0aW9uIOmcgOimgeiFvueQqOi3r+W+hOWIhuaekOWQjuWPsOacjeWKoe+8jC9uYS9maW5kUm91dGVWaWEsIC9uYS9maW5kUm91dGUKICogQGFwaVBhcmFtRXhhbXBsZSDnpLrkvosKICAgIGltcG9ydCB7IE5ldHdvcmsgfSBmcm9tIOKAmHRrbGV0bWFw4oCYCiAqLwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgZmluZFJvdXRlMjogZmluZFJvdXRlMiwKICBjbGVhcjogY2xlYXIKfTs="},{"version":3,"names":["_axios","_interopRequireDefault","require","_leaflet","networkLayer","parseXML","xmlString","parser","DOMParser","xmlDoc","parseFromString","routelatlon","getElementsByTagName","latLngs","pointsStr","innerHTML","arr","split","forEach","item","xy","length","push","L","latLng","findRoute2","start","end","style","options","clear","orig","lng","lat","dest","navstyle","console","log","axios","get","then","res","data","callback","catch","err","error","clearLayers","_default","exports","default"],"sources":["E:/workspacevsCode/web-ui-travel/src/views/AMyWork/tools/comm/network2.js"],"sourcesContent":["import axios from 'axios'\nimport L from 'leaflet'\nlet networkLayer\nfunction parseXML(xmlString) {\n  var parser = new DOMParser()\n  var xmlDoc = parser.parseFromString(xmlString, 'text/xml')\n  const routelatlon = xmlDoc.getElementsByTagName('routelatlon')\n  const latLngs = []\n  if (routelatlon) {\n    const pointsStr = routelatlon[0].innerHTML\n    const arr = pointsStr.split(';')\n    arr.forEach(item => {\n      const xy = item.split(',')\n      if (xy.length === 2) {\n        latLngs.push(L.latLng(xy[1], xy[0]))\n      }\n    })\n  }\n  return latLngs\n}\n\nfunction findRoute2(start,end,style,options) {\n  clear()\n  const orig = '\"' + start.lng + ', ' + start.lat + '\"'\n  const dest = '\"' + end.lng + ', ' + end.lat + '\"'\n  const navstyle = style\n  console.log('orig', orig, dest)\n  axios.get('http://api.tianditu.gov.cn/drive?postStr={\"orig\":' + orig + ',\"dest\":' + dest + ',\"style\":' + navstyle + '}&type=search&tk=89dea3eab561f0dfb9867e531415e015').then(res => {\n    console.log('res', res)\n    const data = res.data\n    const latLngs = parseXML(data)\n    if (options.callback) {\n      options.callback(latLngs)\n    }\n  }).catch(err => {\n    console.error('Error fetching route:', err)\n  })\n}\n\n\n/**\n * @apiGroup 网络分析\n * @api clear 清除网络分析路径线\n * @apiParamExample 示例\n   Network.clear()\n */\nfunction clear() {\n  if (networkLayer) {\n    networkLayer.clearLayers()\n  }\n}\n\n/**\n * @apiGroup 网络分析\n * @api import 模块引入\n * @apiDescription 需要腾琨路径分析后台服务，/na/findRouteVia, /na/findRoute\n * @apiParamExample 示例\n    import { Network } from ‘tkletmap‘\n */\nexport default {\n  findRoute2,\n  clear\n}\n\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAIE,YAAY;AAChB,SAASC,QAAQA,CAACC,SAAS,EAAE;EAC3B,IAAIC,MAAM,GAAG,IAAIC,SAAS,CAAC,CAAC;EAC5B,IAAIC,MAAM,GAAGF,MAAM,CAACG,eAAe,CAACJ,SAAS,EAAE,UAAU,CAAC;EAC1D,IAAMK,WAAW,GAAGF,MAAM,CAACG,oBAAoB,CAAC,aAAa,CAAC;EAC9D,IAAMC,OAAO,GAAG,EAAE;EAClB,IAAIF,WAAW,EAAE;IACf,IAAMG,SAAS,GAAGH,WAAW,CAAC,CAAC,CAAC,CAACI,SAAS;IAC1C,IAAMC,GAAG,GAAGF,SAAS,CAACG,KAAK,CAAC,GAAG,CAAC;IAChCD,GAAG,CAACE,OAAO,CAAC,UAAAC,IAAI,EAAI;MAClB,IAAMC,EAAE,GAAGD,IAAI,CAACF,KAAK,CAAC,GAAG,CAAC;MAC1B,IAAIG,EAAE,CAACC,MAAM,KAAK,CAAC,EAAE;QACnBR,OAAO,CAACS,IAAI,CAACC,gBAAC,CAACC,MAAM,CAACJ,EAAE,CAAC,CAAC,CAAC,EAAEA,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACtC;IACF,CAAC,CAAC;EACJ;EACA,OAAOP,OAAO;AAChB;AAEA,SAASY,UAAUA,CAACC,KAAK,EAACC,GAAG,EAACC,KAAK,EAACC,OAAO,EAAE;EAC3CC,KAAK,CAAC,CAAC;EACP,IAAMC,IAAI,GAAG,GAAG,GAAGL,KAAK,CAACM,GAAG,GAAG,IAAI,GAAGN,KAAK,CAACO,GAAG,GAAG,GAAG;EACrD,IAAMC,IAAI,GAAG,GAAG,GAAGP,GAAG,CAACK,GAAG,GAAG,IAAI,GAAGL,GAAG,CAACM,GAAG,GAAG,GAAG;EACjD,IAAME,QAAQ,GAAGP,KAAK;EACtBQ,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEN,IAAI,EAAEG,IAAI,CAAC;EAC/BI,cAAK,CAACC,GAAG,CAAC,mDAAmD,GAAGR,IAAI,GAAG,UAAU,GAAGG,IAAI,GAAG,WAAW,GAAGC,QAAQ,GAAG,mDAAmD,CAAC,CAACK,IAAI,CAAC,UAAAC,GAAG,EAAI;IACnLL,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEI,GAAG,CAAC;IACvB,IAAMC,IAAI,GAAGD,GAAG,CAACC,IAAI;IACrB,IAAM7B,OAAO,GAAGR,QAAQ,CAACqC,IAAI,CAAC;IAC9B,IAAIb,OAAO,CAACc,QAAQ,EAAE;MACpBd,OAAO,CAACc,QAAQ,CAAC9B,OAAO,CAAC;IAC3B;EACF,CAAC,CAAC,CAAC+B,KAAK,CAAC,UAAAC,GAAG,EAAI;IACdT,OAAO,CAACU,KAAK,CAAC,uBAAuB,EAAED,GAAG,CAAC;EAC7C,CAAC,CAAC;AACJ;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,SAASf,KAAKA,CAAA,EAAG;EACf,IAAI1B,YAAY,EAAE;IAChBA,YAAY,CAAC2C,WAAW,CAAC,CAAC;EAC5B;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAOe;EACbzB,UAAU,EAAVA,UAAU;EACVK,KAAK,EAALA;AACF,CAAC","ignoreList":[]}]}