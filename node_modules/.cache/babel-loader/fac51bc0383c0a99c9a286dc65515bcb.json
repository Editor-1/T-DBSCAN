{"remainingRequest":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\work\\workspace_wm\\web-ui-travel\\src\\views\\biz\\common\\map\\OnlineMap.js","dependencies":[{"path":"D:\\work\\workspace_wm\\web-ui-travel\\src\\views\\biz\\common\\map\\OnlineMap.js","mtime":1709877547967},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\babel.config.js","mtime":1677117676000},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi93b3JrL3dvcmtzcGFjZV93bS93ZWItdWktdHJhdmVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOi93b3JrL3dvcmtzcGFjZV93bS93ZWItdWktdHJhdmVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzLmpzIikpOwp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDovd29yay93b3Jrc3BhY2Vfd20vd2ViLXVpLXRyYXZlbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIpKTsKdmFyIF9sZWFmbGV0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJsZWFmbGV0IikpOwpyZXF1aXJlKCJsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MiKTsKdmFyIE9ubGluZU1hcCA9IC8qI19fUFVSRV9fKi8oMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShmdW5jdGlvbiBPbmxpbmVNYXAob3B0aW9ucykgewogICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIE9ubGluZU1hcCk7CiAgdmFyIGVsID0gb3B0aW9ucy5lbCB8fCAnTWFwQ29udGFpbmVyRGl2JzsKICB2YXIgY2VudGVyID0gb3B0aW9ucy5jZW50ZXIgfHwgWzAsIDBdOwogIHZhciB6b29tID0gb3B0aW9ucy56b29tIHx8IDE7CiAgdmFyIGNycyA9IF9sZWFmbGV0LmRlZmF1bHQuQ1JTLkVQU0czODU3OwogIHZhciBkZWZhdWx0TGF5ZXI7CiAgdmFyIGJhc2VNYXBzID0ge307CiAgaWYgKG9wdGlvbnMubGF5ZXJzICYmIG9wdGlvbnMubGF5ZXJzLmxlbmd0aCA+IDApIHsKICAgIHZhciBsYXllcnMgPSBvcHRpb25zLmxheWVyczsKICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKCkgewogICAgICB2YXIgbGF5ZXIgPSBsYXllcnNbaV07CiAgICAgIHZhciBuYW1lID0gbGF5ZXIubmFtZTsKICAgICAgaWYgKGxheWVyLmxpc3QpIHsKICAgICAgICB2YXIgbGF5ZXJHcm91cCA9IF9sZWFmbGV0LmRlZmF1bHQubGF5ZXJHcm91cChbXSk7CiAgICAgICAgbGF5ZXIubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsKICAgICAgICAgIHZhciB0aWxlTGF5ZXIgPSBfbGVhZmxldC5kZWZhdWx0LnRpbGVMYXllcihzdWIudXJsLCBPYmplY3QuYXNzaWduKHt9LCBsYXllci5vcHRpb25zLCBzdWIpKTsKICAgICAgICAgIGxheWVyR3JvdXAuYWRkTGF5ZXIodGlsZUxheWVyKTsKICAgICAgICB9KTsKICAgICAgICBiYXNlTWFwc1tuYW1lXSA9IGxheWVyR3JvdXA7CiAgICAgICAgaWYgKGxheWVyLnNob3cpIHsKICAgICAgICAgIGRlZmF1bHRMYXllciA9IGxheWVyR3JvdXA7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGxheWVyLnVybCkgewogICAgICAgIHZhciB0aWxlTGF5ZXIgPSBfbGVhZmxldC5kZWZhdWx0LnRpbGVMYXllcihsYXllci51cmwsIGxheWVyLm9wdGlvbnMpOwogICAgICAgIGJhc2VNYXBzW25hbWVdID0gdGlsZUxheWVyOwogICAgICAgIGlmIChsYXllci5zaG93KSB7CiAgICAgICAgICBkZWZhdWx0TGF5ZXIgPSB0aWxlTGF5ZXI7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpKyspIHsKICAgICAgX2xvb3AoKTsKICAgIH0KICB9CiAgaWYgKG9wdGlvbnMuY3JzID09PSAnNDMyNicpIHsKICAgIGNycyA9IF9sZWFmbGV0LmRlZmF1bHQuQ1JTLkVQU0c0MzI2OwogIH0KICB2YXIgbWFwID0gX2xlYWZsZXQuZGVmYXVsdC5tYXAoZWwsIHsKICAgIGNyczogY3JzLAogICAgLy8gY2VudGVyOiBvcHRpb25zLmNlbnRlciB8fCBbMCwgMF0sCiAgICBtYXhab29tOiBvcHRpb25zLm1heFpvb20gfHwgMTgsCiAgICBtaW5ab29tOiBvcHRpb25zLm1pblpvb20gfHwgMSwKICAgIHpvb206IG9wdGlvbnMuem9vbSB8fCAxLAogICAgem9vbUNvbnRyb2w6IGZhbHNlLAogICAgbGF5ZXJzOiBbZGVmYXVsdExheWVyXSwKICAgIHdvcmxkQ29weUp1bXA6IHRydWUsCiAgICBlZGl0YWJsZTogdHJ1ZQogIH0pOwogIC8vIOaOp+WItuiMg+WbtAogIGlmIChvcHRpb25zLm1heEJvdW5kcykgewogICAgdmFyIG1heEJvdW5kcyA9IG9wdGlvbnMubWF4Qm91bmRzOwogICAgdmFyIGNvcm5lcjEgPSBfbGVhZmxldC5kZWZhdWx0LmxhdExuZyhtYXhCb3VuZHNbMF0sIG1heEJvdW5kc1sxXSk7CiAgICB2YXIgY29ybmVyMiA9IF9sZWFmbGV0LmRlZmF1bHQubGF0TG5nKG1heEJvdW5kc1syXSwgbWF4Qm91bmRzWzNdKTsKICAgIHZhciBib3VuZHMgPSBfbGVhZmxldC5kZWZhdWx0LmxhdExuZ0JvdW5kcyhjb3JuZXIxLCBjb3JuZXIyKTsKICAgIG1hcC5zZXRNYXhCb3VuZHMoYm91bmRzKTsKICB9CiAgbWFwLnNldFZpZXcoY2VudGVyLCB6b29tKTsKICBtYXBbJ2Jhc2VNYXBzJ10gPSBiYXNlTWFwczsKICByZXR1cm4gbWFwOwp9KTsKdmFyIF9kZWZhdWx0ID0gT25saW5lTWFwOwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"names":["_leaflet","_interopRequireDefault","require","OnlineMap","_createClass2","default","options","_classCallCheck2","el","center","zoom","crs","L","CRS","EPSG3857","defaultLayer","baseMaps","layers","length","_loop","layer","i","name","list","layerGroup","forEach","sub","tileLayer","url","Object","assign","addLayer","show","EPSG4326","map","maxZoom","minZoom","zoomControl","worldCopyJump","editable","maxBounds","corner1","latLng","corner2","bounds","latLngBounds","setMaxBounds","setView","_default","exports"],"sources":["D:/work/workspace_wm/web-ui-travel/src/views/biz/common/map/OnlineMap.js"],"sourcesContent":["import L from 'leaflet'\nimport 'leaflet/dist/leaflet.css'\n\nclass OnlineMap {\n  constructor(options) {\n    const el = options.el || 'MapContainerDiv'\n    const center = options.center || [0, 0]\n    const zoom = options.zoom || 1\n    let crs = L.CRS.EPSG3857\n    let defaultLayer\n    const baseMaps = {}\n    if (options.layers && options.layers.length > 0) {\n      const layers = options.layers\n      for (let i = 0; i < layers.length; i++) {\n        const layer = layers[i]\n        const name = layer.name\n        if (layer.list) {\n          const layerGroup = L.layerGroup([])\n          layer.list.forEach(sub => {\n            const tileLayer = L.tileLayer(sub.url, Object.assign({}, layer.options, sub))\n            layerGroup.addLayer(tileLayer)\n          })\n          baseMaps[name] = layerGroup\n          if (layer.show) {\n            defaultLayer = layerGroup\n          }\n        } else if (layer.url) {\n          const tileLayer = L.tileLayer(layer.url, layer.options)\n          baseMaps[name] = tileLayer\n          if (layer.show) {\n            defaultLayer = tileLayer\n          }\n        }\n      }\n    }\n    if (options.crs === '4326') {\n      crs = L.CRS.EPSG4326\n    }\n\n    const map = L.map(el, {\n      crs: crs,\n      // center: options.center || [0, 0],\n      maxZoom: options.maxZoom || 18,\n      minZoom: options.minZoom || 1,\n      zoom: options.zoom || 1,\n      zoomControl: false,\n      layers: [defaultLayer],\n      worldCopyJump: true,\n      editable: true\n    })\n    // 控制范围\n    if (options.maxBounds) {\n      const maxBounds = options.maxBounds\n      const corner1 = L.latLng(maxBounds[0], maxBounds[1])\n      const corner2 = L.latLng(maxBounds[2], maxBounds[3])\n      const bounds = L.latLngBounds(corner1, corner2)\n      map.setMaxBounds(bounds)\n    }\n    map.setView(center, zoom)\n    map['baseMaps'] = baseMaps\n    return map\n  }\n}\n\nexport default OnlineMap\n"],"mappings":"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"}]}