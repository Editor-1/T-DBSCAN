{"remainingRequest":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\babel-loader\\lib\\index.js!E:\\workspacevsCode\\web-ui-travel\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\workspacevsCode\\web-ui-travel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\workspacevsCode\\web-ui-travel\\src\\views\\AMyWork\\tools\\poi\\PoiPanel.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\workspacevsCode\\web-ui-travel\\src\\views\\AMyWork\\tools\\poi\\PoiPanel.vue","mtime":1722045817820},{"path":"E:\\workspacevsCode\\web-ui-travel\\babel.config.js","mtime":1677117676000},{"path":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\workspacevsCode\\web-ui-travel\\node_modules\\vue-loader\\lib\\index.js","mtime":1720856215506}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZSgiRTovd29ya3NwYWNldnNDb2RlL3dlYi11aS10cmF2ZWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZC5qcyIpLmRlZmF1bHQ7CnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZSgiRTovd29ya3NwYWNldnNDb2RlL3dlYi11aS10cmF2ZWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfc2xpY2VkVG9BcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3dvcmtzcGFjZXZzQ29kZS93ZWItdWktdHJhdmVsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXkuanMiKSk7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKdmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYXhpb3MiKSk7CnZhciBfRHJhd1BvaSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9EcmF3UG9pIikpOwp2YXIgX0RyYXdOZXdQb2kgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vRHJhd05ld1BvaSIpKTsKdmFyIFBhdGhMYXllciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoIi4uL2NvbW0vUGF0aExheWVyIikpOwp2YXIgRmlsZVNhdmUgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCIuL0ZpbGVTYXZlIikpOwp2YXIgX2NvbW1vbiA9IHJlcXVpcmUoIi4uL2Jpei9jb21tb24iKTsKdmFyIF9JY29uc0RpYWxvZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vLi4vdG9vbC9idWlsZC9JY29uc0RpYWxvZy52dWUiKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgp2YXIgcG9pbnRlckltZyA9IHJlcXVpcmUoJ0AvYXNzZXRzL2ltYWdlcy9sb2NhdGlvbjY0LnBuZycpOwovLyDlrprkuYkgZHJhd1BvaSDlj5jph48KdmFyIGRyYXdOZXdQb2k7CnZhciBkcmF3UG9pOwp2YXIgX2RlZmF1bHQgPSBleHBvcnRzLmRlZmF1bHQgPSB7CiAgY29tcG9uZW50czogewogICAgSWNvbnNEaWFsb2c6IF9JY29uc0RpYWxvZy5kZWZhdWx0CiAgfSwKICBuYW1lOiAnUG9pUGFuZWwnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDlh6DkvZXnsbvlnosKICAgICAgZ2VvbWV0cmljVHlwZTogMiwKICAgICAgLy/ogZrlkIjmlrnlvI8KICAgICAgY2x1c3RlclN0eWxlT3B0aW9uczogW3sKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBsYWJlbDogJ0NMQVJBTlMnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMSwKICAgICAgICBsYWJlbDogJ0stTWVhbnMnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMiwKICAgICAgICBsYWJlbDogJ0RCU0NBTicKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAzLAogICAgICAgIGxhYmVsOiAnT1BUSUNTJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDQsCiAgICAgICAgbGFiZWw6ICdULURCU0NBTicKICAgICAgfV0sCiAgICAgIC8vIOiBmuWQiOaVsOaNrgogICAgICBjbHVzdGVyRGF0YU9wdGlvbnM6IFt7CiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgbGFiZWw6ICfngbDpuaQnCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMSwKICAgICAgICBsYWJlbDogJ+Wwj+Wkqem5hScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAyLAogICAgICAgIGxhYmVsOiAn6bif57G7MScKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAzLAogICAgICAgIGxhYmVsOiAn6bif57G7MicKICAgICAgfV0sCiAgICAgIHNob3dwb2ludDogJzAnLAogICAgICBkYXRhTGlzdDogW10sCiAgICAgIC8vIOaVsOaNruWIl+ihqAogICAgICBwYWdlOiAnbGlzdCcsCiAgICAgIC8vIOW9k+WJjemhtemdou+8iGxpc3Qg5oiWIGVkaXTvvIkKICAgICAgY3VycmVudFBvaW50OiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgdGltZTogJycKICAgICAgfSwKICAgICAgLy8g5b2T5YmN57yW6L6R55qE54K55L+h5oGvCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgLy8g5LiK5Lyg55qE5paH5Lu25YiX6KGoCiAgICAgIHBvaW50ZXJJbWc6IHBvaW50ZXJJbWcsCiAgICAgIC8vIOaMh+mSiOWbvueJhwogICAgICBkcmF3aW5nOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5q2j5Zyo57uY5Yi2CiAgICAgIG5hdmRyYXdpbmc6IGZhbHNlLAogICAgICBrZXlXb3JkOiAnJywKICAgICAgLy8g5pCc57Si5YWz6ZSu5a2XCiAgICAgIG5hbWVMaXN0OiBbXSwKICAgICAgZGVmYXVsdFByb3BzOiB7CiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgbGFiZWw6ICdsYWJlbCcKICAgICAgfSwKICAgICAgc3RhcnRQbGFjZTogewogICAgICAgIC8v5Ye65Y+R54K5CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgbG5nOiAnJywKICAgICAgICBsYXQ6ICcnCiAgICAgIH0sCiAgICAgIGVuZFBsYWNlOiB7CiAgICAgICAgLy/nu4jngrkKICAgICAgICBuYW1lOiAnJywKICAgICAgICBsbmc6ICcnLAogICAgICAgIGxhdDogJycKICAgICAgfSwKICAgICAgLy/lr7zoiKrmoLflvI8KICAgICAgbmF2c3R5bGU6IDAsCiAgICAgIG5hdk9wdGlvbnM6IFt7CiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgbGFiZWw6ICfmnIDlv6vot6/nur8nCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogMSwKICAgICAgICBsYWJlbDogJ+acgOefrei3r+e6vycKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAyLAogICAgICAgIGxhYmVsOiAn6YG/5byA6auY6YCfJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDMsCiAgICAgICAgbGFiZWw6ICfmraXooYwnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAvLyDliJ3lp4vljJYgZHJhd1BvaSDlkowgUGF0aExheWVyCiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIGRyYXdOZXdQb2kgPSBuZXcgX0RyYXdOZXdQb2kuZGVmYXVsdChfdGhpcyk7CiAgICAgIGRyYXdQb2kgPSBuZXcgX0RyYXdQb2kuZGVmYXVsdChfdGhpcyk7CiAgICAgIFBhdGhMYXllci5pbml0KCk7CiAgICB9KTsKICAgIC8vIOWKoOi9veaVsOaNrgogICAgdGhpcy5sb2FkRGF0YSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOa4hemZpOe7mOWItgogICAgZHJhd05ld1BvaS5jbGVhcigpOwogICAgZHJhd05ld1BvaS5kcmF3Q2FuY2VsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+agueaNruWcsOWQjeafpeaJvue7j+e6rOW6pgogICAgc2VhcmNoTG5nQnlOYW1lOiBmdW5jdGlvbiBzZWFyY2hMbmdCeU5hbWUob3B0aW9ucykgewogICAgICAvL+a5luWNl+ecgeeOr+eQg+S/oeWjq+WFrOWPuAogICAgICAvL+ivt+axgu+8miBodHRwOi8vYXBpLnRpYW5kaXR1Lmdvdi5jbi9nZW9jb2Rlcj9kcz17ImtleVdvcmQiOiLljJfkuqzluILlu7bluobljLrlu7bluobplYfojrLoirHmsaDmnZHliY3ooZc1MOWklemYs+e6ouWFu+iAgemZoiJ9JnRrPeaCqOeahOWvhumSpQogICAgICBfYXhpb3MuZGVmYXVsdC5nZXQoJ2h0dHA6Ly9hcGkudGlhbmRpdHUuZ292LmNuL2dlb2NvZGVyP2RzPXsia2V5V29yZCI6IicgKyBvcHRpb25zLm5hbWUgKyAnIn0mdGs9ODlkZWEzZWFiNTYxZjBkZmI5ODY3ZTUzMTQxNWUwMTUnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBvcHRpb25zLmxuZyA9IHJlcy5kYXRhLmxvY2F0aW9uLmxvbjsKICAgICAgICBvcHRpb25zLmxhdCA9IHJlcy5kYXRhLmxvY2F0aW9uLmxhdDsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJvdXRlOicsIGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIC8v54K55Ye76IqC54K5CiAgICBoYW5kbGVOb2RlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZU5vZGVDbGljayhkYXRhKSB7CiAgICAgIGNvbnNvbGUubG9nKCfoioLngrnmlbDmja4nLCBkYXRhKTsKICAgICAgY29uc29sZS5sb2coJ+iKgueCuUlEJywgZGF0YS4kdHJlZU5vZGVJZCk7CiAgICB9LAogICAgLy/lr7zoiKoKICAgIG5hdmlnYXRpb246IGZ1bmN0aW9uIG5hdmlnYXRpb24oKSB7CiAgICAgIHRoaXMucGFnZSA9ICduYXZpZ2F0aW9uJzsgLy/ot7PovazliLDlr7zoiKrnlYzpnaIKICAgICAgdGhpcy5uYXZkcmF3aW5nID0gdHJ1ZTsKICAgICAgZHJhd1BvaS5kcmF3KCk7CiAgICB9LAogICAgLy/nu5jliLblr7zoiKrot6/nur8KICAgIHNlYXJjaFJvdXRlOiBmdW5jdGlvbiBzZWFyY2hSb3V0ZSgpIHsKICAgICAgdGhpcy5zaG93UGF0aCh0aGlzLnN0YXJ0UGxhY2UsIHRoaXMuZW5kUGxhY2UsIHRoaXMubmF2c3R5bGUpOwogICAgfSwKICAgIC8v5p+l6K+i5Zyw5ZCNCiAgICBzZWFyY2hCeU5hbWU6IGZ1bmN0aW9uIHNlYXJjaEJ5TmFtZShrZXlXb3JkKSB7CiAgICAgIHZhciBsaXN0ID0gW107CiAgICAgIEZpbGVTYXZlLmdldExpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgdGVtcCA9IHJlczsKICAgICAgICBpZiAodGVtcCkgewogICAgICAgICAgdGVtcC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLm5hbWUuaW5jbHVkZXMoa2V5V29yZCkpIHsKICAgICAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZGF0YUxpc3QgPSBsaXN0OwogICAgfSwKICAgIC8vIOWKoOi9veaVsOaNrgogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgRmlsZVNhdmUuZ2V0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCdyZXMnLCByZXMpOwogICAgICAgIHZhciBsaXN0ID0gcmVzOwogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIC8vIOWkhOeQhuWbvueJhwogICAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLnBob3RvcykgewogICAgICAgICAgICAgIHZhciBhcnIgPSBpdGVtLnBob3Rvcy5zcGxpdCgnIycpOwogICAgICAgICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgaXRlbVsncGhvdG8wJ10gPSBhcnJbMF07CiAgICAgICAgICAgICAgICBpdGVtWydwaG90b0FyciddID0gYXJyOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczIuZGF0YUxpc3QgPSBsaXN0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuZGF0YUxpc3QgPSBbXTsKICAgICAgICB9CiAgICAgICAgdmFyIG5hbWVMaXN0ID0gW107CiAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbS5uYW1lKSB7CiAgICAgICAgICAgIHZhciBfaXRlbSRuYW1lJHNwbGl0ID0gaXRlbS5uYW1lLnNwbGl0KCctJyksCiAgICAgICAgICAgICAgX2l0ZW0kbmFtZSRzcGxpdDIgPSAoMCwgX3NsaWNlZFRvQXJyYXkyLmRlZmF1bHQpKF9pdGVtJG5hbWUkc3BsaXQsIDIpLAogICAgICAgICAgICAgIHByb3ZpbmNlID0gX2l0ZW0kbmFtZSRzcGxpdDJbMF0sCiAgICAgICAgICAgICAgcGxhY2UgPSBfaXRlbSRuYW1lJHNwbGl0MlsxXTsKICAgICAgICAgICAgdmFyIHByb3ZpbmNlcyA9IG5hbWVMaXN0OyAvLyDnnIHku73lsYLnuqfmmK/moJHnmoTmoLkKICAgICAgICAgICAgdmFyIHByb3ZpbmNlTm9kZSA9IGZpbmRPckNyZWF0ZVBhcmVudChwcm92aW5jZXMsIHByb3ZpbmNlKTsKICAgICAgICAgICAgdmFyIHBsYWNlcyA9IHByb3ZpbmNlTm9kZS5jaGlsZHJlbjsKICAgICAgICAgICAgZmluZE9yQ3JlYXRlUGFyZW50KHBsYWNlcywgcGxhY2UpOyAvLyDln47luILkvZzkuLrnnIHku73nmoTlrZDoioLngrkKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBfdGhpczIubmFtZUxpc3QgPSBuYW1lTGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6IGa5ZCI5YiG5p6QCiAgICBjbHVzdGVyQW5hbHlzaXM6IGZ1bmN0aW9uIGNsdXN0ZXJBbmFseXNpcygpIHsKICAgICAgdGhpcy5wYWdlID0gJ2NsdXN0ZXInOwogICAgICBkcmF3TmV3UG9pLmNsZWFyKCk7CiAgICAgIGRyYXdQb2kuY2xlYXIoKTsKICAgICAgUGF0aExheWVyLmNsZWFyKCk7CiAgICB9LAogICAgLy8g5byA5aeL57uY5Yi2CiAgICBzdGFydERyYXc6IGZ1bmN0aW9uIHN0YXJ0RHJhdygpIHsKICAgICAgdGhpcy5kcmF3aW5nID0gdHJ1ZTsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICBkcmF3TmV3UG9pLmRyYXcoKTsKICAgIH0sCiAgICAvLyDlj5bmtojnu5jliLYKICAgIGNhbmNlbERyYXc6IGZ1bmN0aW9uIGNhbmNlbERyYXcoKSB7CiAgICAgIGRyYXdOZXdQb2kuZHJhd0NhbmNlbCgpOwogICAgICB0aGlzLmRyYXdpbmcgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDov5Tlm57liJfooajpobXpnaIKICAgIGJhY2tUb0xpc3Q6IGZ1bmN0aW9uIGJhY2tUb0xpc3QoKSB7CiAgICAgIHRoaXMucGFnZSA9ICdsaXN0JzsKICAgICAgZHJhd05ld1BvaS5jbGVhcigpOwogICAgICBkcmF3UG9pLmNsZWFyKCk7CiAgICAgIFBhdGhMYXllci5jbGVhcigpOwogICAgICB0aGlzLm5hdmRyYXdpbmcgPSBmYWxzZTsKICAgICAgaWYgKHRoaXMuc3RhcnRQbGFjZSAhPSAnJykgewogICAgICAgIHRoaXMuc3RhcnRQbGFjZS5uYW1lID0gJyc7CiAgICAgICAgdGhpcy5zdGFydFBsYWNlLmxuZyA9ICcnOwogICAgICAgIHRoaXMuc3RhcnRQbGFjZS5sYXQgPSAnJzsKICAgICAgICB0aGlzLmVuZFBsYWNlLm5hbWUgPSAnJzsKICAgICAgICB0aGlzLmVuZFBsYWNlLmxuZyA9ICcnOwogICAgICAgIHRoaXMuZW5kUGxhY2UubGF0ID0gJyc7CiAgICAgIH0KICAgICAgdGhpcy4kcmVmcy5wb2lGb3JtLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgLy8g5L+d5a2Y5pWw5o2uCiAgICBzYXZlOiBmdW5jdGlvbiBzYXZlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kcmVmcy5wb2lGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGN1cnJlbnRQb2ludCA9IF90aGlzMy5jdXJyZW50UG9pbnQ7CiAgICAgICAgdmFyIHBhcmFtID0gewogICAgICAgICAgbmFtZTogY3VycmVudFBvaW50Lm5hbWUsCiAgICAgICAgICB0aW1lOiBjdXJyZW50UG9pbnQudGltZSwKICAgICAgICAgIGxvbmdpdHVkZTogY3VycmVudFBvaW50LmxuZywKICAgICAgICAgIGxhdGl0dWRlOiBjdXJyZW50UG9pbnQubGF0LAogICAgICAgICAgYWx0aXR1ZGU6IGN1cnJlbnRQb2ludC5hbHRpdHVkZSB8fCAwLAogICAgICAgICAgcGhvdG9zOiAnJywKICAgICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgICAgZGVzYzogY3VycmVudFBvaW50LmRlc2MgfHwgJycKICAgICAgICB9OwogICAgICAgIHZhciBwaG90b3MgPSBbXTsKICAgICAgICBpZiAoX3RoaXMzLmZpbGVMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIF90aGlzMy5maWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICAgIHBob3Rvcy5wdXNoKGYubmFtZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHBob3Rvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBwYXJhbS5waG90b3MgPSBwaG90b3Muam9pbignIycpOwogICAgICAgIH0KICAgICAgICBpZiAoY3VycmVudFBvaW50LmlkKSB7CiAgICAgICAgICB2YXIgaXRlbSA9IF90aGlzMy5kYXRhTGlzdC5maW5kKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgIHJldHVybiBkLmlkID09PSBjdXJyZW50UG9pbnQuaWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgIGl0ZW0ubmFtZSA9IGN1cnJlbnRQb2ludC5uYW1lIHx8ICcnOwogICAgICAgICAgICBpdGVtLnRpbWUgPSBjdXJyZW50UG9pbnQudGltZSB8fCAnJzsKICAgICAgICAgICAgaXRlbS5sb25naXR1ZGUgPSBjdXJyZW50UG9pbnQubG5nOwogICAgICAgICAgICBpdGVtLmxhdGl0dWRlID0gY3VycmVudFBvaW50LmxhdDsKICAgICAgICAgICAgaXRlbS5hbHRpdHVkZSA9IGN1cnJlbnRQb2ludC5hbHRpdHVkZSB8fCAwOwogICAgICAgICAgICBpdGVtLnBob3RvcyA9IHBhcmFtLnBob3RvczsKICAgICAgICAgICAgaXRlbS5hZGRyZXNzID0gcGFyYW0uYWRkcmVzczsKICAgICAgICAgICAgaXRlbS5kZXNjID0gY3VycmVudFBvaW50LmRlc2MgfHwgJyc7CiAgICAgICAgICAgIEZpbGVTYXZlLmNyZWF0ZShfdGhpczMuZGF0YUxpc3QpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZVN1Y2Nlc3MoKTsKICAgICAgICAgICAgICBfdGhpczMuYmFja1RvTGlzdCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGFyYW1bJ2lkJ10gPSAoMCwgX2NvbW1vbi5nZXRVdWlkKSgpOwogICAgICAgICAgX3RoaXMzLmRhdGFMaXN0LnB1c2gocGFyYW0pOwogICAgICAgICAgRmlsZVNhdmUuY3JlYXRlKF90aGlzMy5kYXRhTGlzdCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZVN1Y2Nlc3MoKTsKICAgICAgICAgICAgX3RoaXMzLmJhY2tUb0xpc3QoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBfdGhpczMubG9hZERhdGEoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6aOe5Yiw5oyH5a6a54K5CiAgICBmbHlUbzogZnVuY3Rpb24gZmx5VG8oaXRlbSkgewogICAgICBkcmF3TmV3UG9pLmZseVRvKGl0ZW0pOwogICAgfSwKICAgIC8vIOe8lui+keaMh+WumueCuQogICAgZWRpdDogZnVuY3Rpb24gZWRpdChpdGVtKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICAgIHZhciBwaG90b3MgPSBpdGVtLnBob3RvczsKICAgICAgaWYgKHBob3RvcykgewogICAgICAgIHZhciBhcnIgPSBwaG90b3Muc3BsaXQoJyMnKTsKICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICBfdGhpczQuZmlsZUxpc3QucHVzaCh7CiAgICAgICAgICAgIHN0YXR1czogJ2RvbmUnLAogICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgbmFtZTogdXJsLAogICAgICAgICAgICB1aWQ6ICgwLCBfY29tbW9uLmdldFV1aWQpKCkKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGRyYXdOZXdQb2kuZWRpdChpdGVtKTsKICAgIH0sCiAgICAvLyDliKDpmaTmjIflrprngrkKICAgIGRlbGV0ZUNsaWNrOiBmdW5jdGlvbiBkZWxldGVDbGljayhpdGVtKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgaWR4ID0gdGhpcy5kYXRhTGlzdC5maW5kSW5kZXgoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5pZCA9PT0gaXRlbS5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKGlkeCwgMSk7CiAgICAgIEZpbGVTYXZlLmNyZWF0ZSh0aGlzLmRhdGFMaXN0KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczUuJG1lc3NhZ2VTdWNjZXNzKCk7CiAgICAgICAgX3RoaXM1LmxvYWREYXRhKCk7CiAgICAgICAgZHJhd05ld1BvaS5jbGVhckJ5SWQoaXRlbS5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaWh+S7tuWIl+ihqOWPmOWMlgogICAgbGlzdENoYW5nZTogZnVuY3Rpb24gbGlzdENoYW5nZShsaXN0KSB7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBsaXN0OwogICAgfSwKICAgIC8vIOe7j+e6rOW6puWPmOWMlgogICAgbGF0TG5nQ2hhbmdlOiBmdW5jdGlvbiBsYXRMbmdDaGFuZ2UodikgewogICAgICBpZiAodGhpcy5jdXJyZW50UG9pbnQubGF0ICYmIHRoaXMuY3VycmVudFBvaW50LmxuZykgewogICAgICAgIGRyYXdOZXdQb2kuc2V0TGF0TG5nKHRoaXMuY3VycmVudFBvaW50LmxhdCwgdGhpcy5jdXJyZW50UG9pbnQubG5nKTsKICAgICAgfQogICAgfSwKICAgIC8vIOaYvuekuui3r+W+hAogICAgc2hvd1BhdGg6IGZ1bmN0aW9uIHNob3dQYXRoKHN0YXJ0LCBlbmQsIHN0eWxlKSB7CiAgICAgIFBhdGhMYXllci5wYXRoKHN0YXJ0LCBlbmQsIHN0eWxlKTsKICAgIH0KICB9Cn07IC8vIOi+heWKqeWHveaVsO+8muWcqOagkeS4reafpeaJvuaIlua3u+WKoOeItuiKgueCuQpmdW5jdGlvbiBmaW5kT3JDcmVhdGVQYXJlbnQocGFyZW50cywgcGFyZW50TmFtZSkgewogIHZhciBwYXJlbnQgPSBwYXJlbnRzLmZpbmQoZnVuY3Rpb24gKHApIHsKICAgIHJldHVybiBwLmxhYmVsID09PSBwYXJlbnROYW1lOwogIH0pOwogIGlmICghcGFyZW50KSB7CiAgICBwYXJlbnQgPSB7CiAgICAgIGxhYmVsOiBwYXJlbnROYW1lLAogICAgICBjaGlsZHJlbjogW10KICAgIH07CiAgICBwYXJlbnRzLnB1c2gocGFyZW50KTsKICB9CiAgcmV0dXJuIHBhcmVudDsKfQ=="},{"version":3,"names":["_axios","_interopRequireDefault","require","_DrawPoi","_DrawNewPoi","PathLayer","_interopRequireWildcard","FileSave","_common","_IconsDialog","pointerImg","drawNewPoi","drawPoi","_default","exports","default","components","IconsDialog","name","data","geometricType","clusterStyleOptions","value","label","clusterDataOptions","showpoint","dataList","page","currentPoint","time","fileList","drawing","navdrawing","keyWord","nameList","defaultProps","children","startPlace","lng","lat","endPlace","navstyle","navOptions","mounted","_this","$nextTick","DrawNewPoi","DrawPoi","init","loadData","beforeDestroy","clear","drawCancel","methods","searchLngByName","options","axios","get","then","res","location","lon","catch","err","console","error","handleNodeClick","log","$treeNodeId","navigation","draw","searchRoute","showPath","searchByName","list","getList","temp","forEach","item","includes","push","_this2","photos","arr","split","length","_item$name$split","_item$name$split2","_slicedToArray2","province","place","provinces","provinceNode","findOrCreateParent","places","clusterAnalysis","startDraw","cancelDraw","backToList","$refs","poiForm","resetFields","save","_this3","validate","valid","param","longitude","latitude","altitude","address","desc","f","join","id","find","d","create","$messageSuccess","getUuid","flyTo","edit","_this4","url","status","uid","deleteClick","_this5","idx","findIndex","splice","clearById","listChange","latLngChange","v","setLatLng","start","end","style","path","parents","parentName","parent","p"],"sources":["src/views/AMyWork/tools/poi/PoiPanel.vue"],"sourcesContent":["<template>\n  <div style=\"overflow: auto;width: 260px;background: white;\">\n    <!-- 列表页面 -->\n    <div v-show=\"page == 'list'\" class=\"poiPage\" style=\"margin-top: 10px;\">\n      <section style=\"margin: 0 20px;color:black;\">\n        <!-- 全选按钮和标绘按钮 -->\n        <div style=\"width: 100%;line-height:30px;color: #606266;\">\n          <div v-show=\"dataList.length>0\" style=\"float: left;\">\n            <el-button v-if=\"!drawing\" type=\"link\" @click=\"startDraw\" icon=\"el-icon-map-location\">\n              <i class=\"iconfont icon-jia-line\" /> 新增地点\n            </el-button>\n            <el-button v-if=\"drawing\" type=\"link\" @click=\"cancelDraw\">\n              取消\n            </el-button>\n          </div>\n        </div>\n        \n        <div style=\"width: 100%;line-height:30px;color: #606266;\">\n          <div v-show=\"dataList.length>0\" style=\"float: left;\">\n            <el-button type=\"link\" @click=\"clusterAnalysis\" icon=\"el-icon-wind-power\">聚合分析</el-button>\n          </div>\n        </div>\n        <!-- 搜索框 -->\n        <div style=\"clear: right;\">\n          <el-input\n            v-model=\"keyWord\"\n            placeholder=\"请输入你要查找的地名\"\n            style=\"width:220px;margin-top: 10px;\"\n            allow-clear\n            enter-button\n            @pressEnter=\"loadData\"\n            @search=\"loadData\"\n          />\n          <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchByName(keyWord)\">搜索</el-button>\n          <el-button type=\"primary\" icon=\"el-icon-position\" @click=\"navigation()\">\n            导航\n          </el-button>\n        </div>\n      <!-- 没有数据时候的展示 -->\n      </section>\n        <section style=\"margin: 20px;color:black;\">\n        <!-- 无数据时的占位符 -->\n        <el-empty v-show=\"dataList.length<1\" style=\"color: #606266;margin-top: 20px;padding-top: 120px;height:calc(100vh - 100px)\">\n          <span slot=\"description\"> 无数据 </span>\n          <el-button v-if=\"!drawing\" type=\"link\" @click=\"startDraw\">\n            <i class=\"iconfont icon-jia-line\" /> 标绘\n          </el-button>\n          <el-button v-if=\"drawing\" type=\"primary\" @click=\"cancelDraw\">\n            取消\n          </el-button>\n        </el-empty>\n        <!-- 数据列表 -->\n        <div v-show=\"dataList.length > 0\" item-layout=\"horizontal\" :data-source=\"dataList\" :style=\"{ height: 'calc(100vh - 240px)',overflow: 'auto' }\">\n          <!-- 分组 -->\n          <el-tree :data=\"nameList\" :props=\"defaultProps\" @node-click=\"handleNodeClick\"></el-tree>\n          <!--  -->\n          <div v-for=\"item in dataList\" :key=\"item.id\">\n            <div style=\"line-height: 36px;border-bottom: 1px solid #d3e1f5;\" @dblclick=\"edit(item)\"> \n              <div style=\"display: inline-block;\">{{ item.name }}</div>\n              <div style=\"float: right;\">\n                <el-button slot=\"actions\" type=\"text\" class=\"btn-link\" ghost @click=\"edit(item)\">编辑</el-button>\n                <el-button slot=\"actions\" type=\"text\" class=\"btn-link hover-red\" ghost @click=\"deleteClick(item)\">删除</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n    <!-- 编辑页面 -->\n    <div v-show=\"page == 'edit'\">\n      <div style=\"padding: 20px;max-height: calc(100vh - 130px);overflow: auto;\">\n        <el-form ref=\"poiForm\" :model=\"currentPoint\" size=\"small\">\n          <el-form-item prop=\"name\" label=\"名称\">\n            <el-input v-model=\"currentPoint.name\" allow-clear />\n          </el-form-item>\n          <el-form-item prop=\"name\" label=\"时间\">\n            <el-input v-model=\"currentPoint.time\" allow-clear />\n          </el-form-item>\n          <el-form-item label=\"x\">\n            <el-input v-model=\"currentPoint.lng\" :min=\"-180\" :max=\"180\" @change=\"latLngChange\" />\n          </el-form-item>\n          <el-form-item label=\"y\">\n            <el-input v-model=\"currentPoint.lat\" :min=\"-90\" :max=\"90\" @change=\"latLngChange\" />\n          </el-form-item>\n          <el-form-item label=\"描述\" style=\"margin-bottom: 0;\">\n            <el-input v-model=\"currentPoint.desc\" type=\"textarea\" />\n          </el-form-item>\n          <el-form-item label=\"图片\" style=\"margin-top: 10px;\">\n            <image-upload :fileList=\"fileList\" type=\"poi\" @listChange=\"listChange\" />\n          </el-form-item>\n        </el-form>\n        <div style=\"width: 100%;\">\n          <el-button @click=\"backToList\">\n            返回\n          </el-button>\n          <div style=\"float: right;\">\n            <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"save\">确定</el-button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 导航页面  -->\n    <div v-show=\"page == 'navigation'\">\n      <div style=\"padding: 20px;max-height: calc(200vh - 130px);overflow: auto;\">\n        <el-form size=\"small\" >\n          <el-form-item prop=\"startPlace\" label=\"输入起点\">\n            <el-input v-model=\"startPlace.name\" allow-clear/>\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchLngByName(startPlace)\">搜索</el-button>\n          </el-form-item>\n          <el-form-item prop=\"startPlaceLng\" label=\"起点经度\">\n            <el-input v-model=\"startPlace.lng\"/>\n          </el-form-item>\n          <el-form-item prop=\"startPlaceLat\" label=\"起点维度\">\n            <el-input v-model=\"startPlace.lat\"/>\n          </el-form-item>\n          <el-form-item prop=\"endPlace\" label=\"输入终点\">\n            <el-input v-model=\"endPlace.name\" allow-clear/>\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchLngByName(endPlace)\">搜索</el-button>\n          </el-form-item>\n          <el-form-item prop=\"endPlaceLng\" label=\"终点经度\">\n            <el-input v-model=\"endPlace.lng\"/>\n          </el-form-item>\n          <el-form-item prop=\"endPlaceLat\" label=\"终点维度\">\n            <el-input v-model=\"endPlace.lat\"/>\n          </el-form-item>\n          <el-form-item  label=\"请选择导航路线类型\">\n            <el-select v-model=\"navstyle\" clearable placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in navOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-form>\n        <div style=\"width: 100%;\">\n          <el-button @click=\"backToList\">\n            返回\n          </el-button>\n          <div style=\"float: right;\">\n            <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"searchRoute()\">确定</el-button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 聚合分析页面 -->\n    <div v-show=\"page =='cluster'\">\n      <div style=\"padding: 20px;max-height: calc(200vh - 130px);overflow: auto;\">\n        <el-form size=\"small\">\n          <el-form-item label=\"聚合方法\">\n            <el-select v-model=\"clusterStyleOptions.label\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in clusterStyleOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item> \n          <el-form-item label=\"聚合数据\">\n            <el-select v-model=\"clusterDataOptions.label\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in clusterDataOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item> \n          <el-form-item label=\"模式\">\n            <el-radio-group v-model=\"pattern\">\n              <el-radio :label=\"1\">简化</el-radio>\n              <el-radio :label=\"2\">聚合</el-radio>\n              <el-radio :label=\"2\">聚合</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"几何类型\">\n            <el-radio-group v-model=\"geometricType\">\n              <el-radio :label=\"1\">线</el-radio>\n              <el-radio :label=\"2\">点</el-radio>\n              <el-radio :label=\"3\">点+线</el-radio>\n            </el-radio-group>\n          </el-form-item>\n        </el-form>\n        <div style=\"width: 100%;\">\n          <el-button @click=\"backToList\">\n            返回\n          </el-button>\n          <div style=\"float: right;\">\n            <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"analyse\">确定</el-button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport DrawPoi from './DrawPoi'\nimport DrawNewPoi from './DrawNewPoi'\nimport * as PathLayer from '../comm/PathLayer'\nconst pointerImg = require('@/assets/images/location64.png')\nimport * as FileSave from './FileSave'\nimport { getUuid } from '../biz/common'\nimport IconsDialog from '../../../tool/build/IconsDialog.vue'\n// 定义 drawPoi 变量\nlet drawNewPoi\nlet drawPoi\n\nexport default {\n  components: { IconsDialog },\n  name: 'PoiPanel',\n  data() {\n    return {\n      // 几何类型\n      geometricType:2,\n      //聚合方式\n      clusterStyleOptions:[{\n        value:0,\n        label:'CLARANS'\n      },{\n        value:1,\n        label:'K-Means'\n      },{\n        value:2,\n        label:'DBSCAN'\n      },{\n        value:3,\n        label:'OPTICS'\n      },{\n        value:4,\n        label:'T-DBSCAN'\n      }],\n      // 聚合数据\n      clusterDataOptions:[{\n        value:0,\n        label:'灰鹤'\n      },{\n        value:1,\n        label:'小天鹅'\n      },{\n        value:2,\n        label:'鸟类1'\n      },{\n        value:3,\n        label:'鸟类2'\n      }],\n      showpoint: '0',\n      dataList: [], // 数据列表\n      page: 'list', // 当前页面（list 或 edit）\n      currentPoint: {\n        name: '',\n        time: ''\n      }, // 当前编辑的点信息\n      fileList: [], // 上传的文件列表\n      pointerImg: pointerImg, // 指针图片\n      drawing: false, // 是否正在绘制\n      navdrawing: false,\n      keyWord: '', // 搜索关键字\n      nameList:[],\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      startPlace:{ //出发点\n        name:'',\n        lng: '',\n        lat: ''\n      },\n      endPlace:{ //终点\n        name:'',\n        lng: '',\n        lat: ''\n      },\n      //导航样式\n      navstyle: 0,\n      navOptions:[{\n        value:0,\n        label:'最快路线'\n      },{\n        value:1,\n        label:'最短路线'\n      },{\n        value:2,\n        label:'避开高速'\n      },{\n        value:3,\n        label:'步行'\n      }]\n    }\n  },\n  mounted() {\n    // 初始化 drawPoi 和 PathLayer\n    this.$nextTick(() => {\n      drawNewPoi = new DrawNewPoi(this)\n      drawPoi = new DrawPoi(this)\n      PathLayer.init()\n    })\n    // 加载数据\n    this.loadData()\n  },\n  beforeDestroy() {\n    // 清除绘制\n    drawNewPoi.clear()\n    drawNewPoi.drawCancel()\n  },\n  methods: {\n    //根据地名查找经纬度\n    searchLngByName(options){\n      //湖南省环球信士公司\n      //请求： http://api.tianditu.gov.cn/geocoder?ds={\"keyWord\":\"北京市延庆区延庆镇莲花池村前街50夕阳红养老院\"}&tk=您的密钥\n      axios.get('http://api.tianditu.gov.cn/geocoder?ds={\"keyWord\":\"' + options.name + '\"}&tk=89dea3eab561f0dfb9867e531415e015').then(res => {\n        options.lng=res.data.location.lon\n        options.lat=res.data.location.lat\n      }).catch(err => {\n        console.error('Error fetching route:', err)\n      }) \n    },\n    //点击节点\n    handleNodeClick(data){\n      console.log('节点数据',data)\n      console.log('节点ID',data.$treeNodeId)\n    },\n    //导航\n    navigation(){\n      this.page='navigation' //跳转到导航界面\n      this.navdrawing = true\n      drawPoi.draw()\n    },\n    //绘制导航路线\n    searchRoute(){\n      this.showPath(this.startPlace,this.endPlace,this.navstyle)\n    },\n    //查询地名\n    searchByName(keyWord){\n      const list = []\n      FileSave.getList().then(res => {\n        const temp = res\n        if(temp){\n          temp.forEach(item =>{\n            if(item.name.includes(keyWord)){\n              list.push(item)\n            }\n          })\n        }\n      })\n      this.dataList = list\n    },\n    // 加载数据\n    loadData() {\n      FileSave.getList().then(res => {\n        console.log('res', res)\n        const list = res\n        if (res) {\n          // 处理图片\n          list.forEach(item => {\n            if (item.photos) {\n              const arr = item.photos.split('#')\n              if (arr.length > 0) {\n                item['photo0'] = arr[0]\n                item['photoArr'] = arr\n              }\n            }\n          })\n          this.dataList = list\n        } else {\n          this.dataList = []\n        }\n        const nameList = []\n        list.forEach(item =>{\n          if(item.name){\n              const [province,place] = item.name.split('-')\n              const provinces = nameList // 省份层级是树的根\n              const provinceNode = findOrCreateParent(provinces, province)\n              const places = provinceNode.children\n              findOrCreateParent(places, place) // 城市作为省份的子节点\n            }\n          }\n        )\n        this.nameList=nameList\n      })\n    },\n    // 聚合分析\n    clusterAnalysis(){\n      this.page = 'cluster'\n      drawNewPoi.clear()\n      drawPoi.clear()\n      PathLayer.clear()\n    },\n    // 开始绘制\n    startDraw() {\n      this.drawing = true\n      this.fileList = []\n      drawNewPoi.draw()\n    },\n    // 取消绘制\n    cancelDraw() {\n      drawNewPoi.drawCancel()\n      this.drawing = false\n    },\n    // 返回列表页面\n    backToList() {\n      this.page = 'list'\n      drawNewPoi.clear()\n      drawPoi.clear()\n      PathLayer.clear()\n      this.navdrawing = false\n      if(this.startPlace!=''){\n        this.startPlace.name=''\n        this.startPlace.lng=''\n        this.startPlace.lat=''\n        this.endPlace.name=''\n        this.endPlace.lng=''\n        this.endPlace.lat=''\n\n      }\n      this.$refs.poiForm.resetFields()\n    },\n    // 保存数据\n    save() {\n      this.$refs.poiForm.validate(valid => {\n        if (!valid) {\n          return\n        }\n        const currentPoint = this.currentPoint\n\n        const param = {\n          name: currentPoint.name,\n          time: currentPoint.time,\n          longitude: currentPoint.lng,\n          latitude: currentPoint.lat,\n          altitude: currentPoint.altitude || 0,\n          photos: '',\n          address: '',\n          desc: currentPoint.desc || ''\n        }\n        const photos = []\n        if (this.fileList.length > 0) {\n          this.fileList.forEach(f => {\n            photos.push(f.name)\n          })\n        }\n        if (photos.length > 0) {\n          param.photos = photos.join('#')\n        }\n\n        if (currentPoint.id) {\n          const item = this.dataList.find(d => d.id === currentPoint.id)\n          if (item) {\n            item.name = currentPoint.name || ''\n            item.time = currentPoint.time || ''\n            item.longitude = currentPoint.lng\n            item.latitude = currentPoint.lat\n            item.altitude = currentPoint.altitude || 0\n            item.photos = param.photos\n            item.address = param.address\n            item.desc = currentPoint.desc || ''\n            FileSave.create(this.dataList).then(res => {\n              this.$messageSuccess()\n              this.backToList()\n            })\n          }\n        } else {\n          param['id'] = getUuid()\n          this.dataList.push(param)\n          FileSave.create(this.dataList).then(res => {\n            this.$messageSuccess()\n            this.backToList()\n          })\n        }\n        this.loadData()\n      })\n    },\n    // 飞到指定点\n    flyTo(item) {\n      drawNewPoi.flyTo(item)\n    },\n    // 编辑指定点\n    edit(item) {\n      this.fileList = []\n      const photos = item.photos\n      if (photos) {\n        const arr = photos.split('#')\n        arr.forEach(url => {\n          this.fileList.push({\n            status: 'done',\n            url: url,\n            name: url,\n            uid: getUuid()\n          })\n        })\n      }\n      drawNewPoi.edit(item)\n    },\n    // 删除指定点\n    deleteClick(item) {\n      const idx = this.dataList.findIndex(d => d.id === item.id)\n      this.dataList.splice(idx, 1)\n      FileSave.create(this.dataList).then(res => {\n        this.$messageSuccess()\n        this.loadData()\n        drawNewPoi.clearById(item.id)\n      })\n    },\n    // 文件列表变化\n    listChange(list) {\n      this.fileList = list\n    },\n    // 经纬度变化\n    latLngChange(v) {\n      if (this.currentPoint.lat && this.currentPoint.lng) {\n        drawNewPoi.setLatLng(this.currentPoint.lat, this.currentPoint.lng)\n      }\n    },\n    // 显示路径\n    showPath(start,end,style) {\n      PathLayer.path(start,end,style)\n    }\n  }\n}\n// 辅助函数：在树中查找或添加父节点\nfunction findOrCreateParent(parents, parentName) {\n  let parent = parents.find(p => p.label === parentName);\n  if (!parent) {\n    parent = { label: parentName, children: [] };\n    parents.push(parent);\n  }\n  return parent;\n}\n</script>\n\n<style scoped>\n.poiImg {\n  width: 40px;\n  height: 40px;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]}]}