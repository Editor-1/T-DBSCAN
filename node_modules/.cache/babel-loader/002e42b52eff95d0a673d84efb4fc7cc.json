{"remainingRequest":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\workspace\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work\\workspace\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace\\ruoyi-ui\\src\\views\\biz\\tools\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace\\ruoyi-ui\\src\\views\\biz\\tools\\index.vue","mtime":1715156855606},{"path":"D:\\work\\workspace\\ruoyi-ui\\babel.config.js","mtime":1677117676000},{"path":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\workspace\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZSgiRDovd29yay93b3Jrc3BhY2UvcnVveWktdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVXaWxkY2FyZC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyIpOwp2YXIgQ29vcmRpbmF0ZXNVdGlsID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgiLi9iaXovQ29vcmRpbmF0ZXNVdGlsIikpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ2luZGV4JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsZUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG1hcCA9IHdpbmRvdy5tYXA7CiAgICAgIH0sIDEwMDApOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZmlsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBjb25zb2xlLmxvZyhmaWxlKTsKICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzdWx0KTsKICAgICAgICBjb25zb2xlLmxvZygnZGF0YScsIGRhdGEpOwogICAgICAgIF90aGlzLnRvR2VvSlNPTihkYXRhLlJFQ09SRFMsIGZpbGUpOwogICAgICB9OwogICAgICBmaWxlUmVhZGVyLnJlYWRBc1RleHQoZmlsZS5yYXcpOwogICAgfSwKICAgIHRvR2VvSlNPTjogZnVuY3Rpb24gdG9HZW9KU09OKGRhdGEsIGZpbGUpIHsKICAgICAgdmFyIGdlb0pTT04gPSB7CiAgICAgICAgInR5cGUiOiAiRmVhdHVyZUNvbGxlY3Rpb24iLAogICAgICAgICJjcnMiOiB7CiAgICAgICAgICAidHlwZSI6ICJuYW1lIiwKICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAibmFtZSI6ICJFUFNHOjQzMjYiCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAiZmVhdHVyZXMiOiBbXQogICAgICAgIC8vICJmZWF0dXJlcyI6IFt7ICJ0eXBlIjogIkZlYXR1cmUiLCAiaWQiOiAxNSwgInByb3BlcnRpZXMiOiB7fSwgImdlb21ldHJ5IjogeyAidHlwZSI6ICJQb2x5Z29uIiwgImNvb3JkaW5hdGVzIjogW10gfSB9XQogICAgICB9OwoKICAgICAgdmFyIGZlYXR1cmVzID0gW107CiAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7CiAgICAgICAgZmVhdHVyZXMucHVzaCh7CiAgICAgICAgICAidHlwZSI6ICJGZWF0dXJlIiwKICAgICAgICAgICJpZCI6IGlkeCwKICAgICAgICAgIHByb3BlcnRpZXM6IGl0ZW0sCiAgICAgICAgICBnZW9tZXRyeTogewogICAgICAgICAgICB0eXBlOiAnUG9pbnQnLAogICAgICAgICAgICBjb29yZGluYXRlczogW051bWJlcihpdGVtLmxvbmdpdHVkZSksIE51bWJlcihpdGVtLmxhdGl0dWRlKV0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGdlb0pTT04uZmVhdHVyZXMgPSBmZWF0dXJlczsKICAgICAgdGhpcy53cml0ZUZpbGUoSlNPTi5zdHJpbmdpZnkoZ2VvSlNPTiksIGZpbGUubmFtZSArICcuZ2VvanNvbicpOwogICAgfSwKICAgIHdyaXRlRmlsZTogZnVuY3Rpb24gd3JpdGVGaWxlKGNvbnRlbnQsIGZpbGVuYW1lKSB7CiAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7CiAgICAgICAgdHlwZTogJ3RleHQvcGxhaW4nCiAgICAgIH0pOwogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgbGluay5ocmVmID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTsKICAgICAgbGluay5jbGljaygpOwogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGxpbmspOwogICAgfSwKICAgIG1lcmNhdG9yVG9MbmdMYXQ6IGZ1bmN0aW9uIG1lcmNhdG9yVG9MbmdMYXQoKSB7CiAgICAgIHZhciBsaXN0ID0gW3sKICAgICAgICB4OiA1ODUwMzg0Ljk3ODY5NDAxMzMsCiAgICAgICAgeTogMzgwMzUwNC40MTQ0MTExOTIzCiAgICAgIH0sIHsKICAgICAgICB4OiA1OTY1MzQ2LjIwNTM2NzUzNDQsCiAgICAgICAgeTogMzcwMDc3My4xMDU0Njg4OTYyCiAgICAgIH0sIHsKICAgICAgICB4OiA2MTIwNjY2LjE2MDU1NDEwMTcsCiAgICAgICAgeTogMzUxMTIwOS4zODA2MzQ4OTYKICAgICAgfSwgewogICAgICAgIHg6IDYyMDUwNTIuNTkyODk5NTU1MywKICAgICAgICB5OiAzNDg2NzQ5LjU0NTE3MjQ0NjkKICAgICAgfSwgewogICAgICAgIHg6IDYyODgyMTYuMDMzNDcxODk0NSwKICAgICAgICB5OiAzNTE2MTAxLjM0NzcyNzM4OTEKICAgICAgfSwgewogICAgICAgIHg6IDY0MDQ0MDAuMjUxOTE4NTQsCiAgICAgICAgeTogMzY2Nzc1Mi4zMjc1OTQ1ODkKICAgICAgfSwgewogICAgICAgIHg6IDY1NTIzODIuMjU2NDY2MzY4MiwKICAgICAgICB5OiAzODE0NTExLjM0MDM2OTI5NjMKICAgICAgfSwgewogICAgICAgIHg6IDY3MTUwNDAuMTYyMjkxNjcxMSwKICAgICAgICB5OiAzOTY5ODMxLjI5NTU1NTg2MDMKICAgICAgfSwgewogICAgICAgIHg6IDY5MjkwNjMuNzIyNTg4MTIsCiAgICAgICAgeTogNDIwNjQ4MC4yMDM2NTUwODA5CiAgICAgIH0sIHsKICAgICAgICB4OiA3MTQwNjQxLjI5OTMzODMyMzEsCiAgICAgICAgeTogNDQ5Njk0MC43NDk3NzE2OQogICAgICB9LCB7CiAgICAgICAgeDogNjc2NjQwNS44MTY3NjI4MTgsCiAgICAgICAgeTogNDY1NTkyOS42ODAyNzc2MjUxCiAgICAgIH0sIHsKICAgICAgICB4OiA2NDU2OTg4Ljg5ODE2MjgwNjQsCiAgICAgICAgeTogNDYzODgwNy43OTU0NTM5MDYxCiAgICAgIH0sIHsKICAgICAgICB4OiA2MjM0NDA0LjM5NTQ1NDQ5NjEsCiAgICAgICAgeTogNDQ1MjkxMy4wNDU5MzkyNzc5CiAgICAgIH0sIHsKICAgICAgICB4OiA1OTkyMjUyLjAyNDM3NjIyOTQsCiAgICAgICAgeTogNDA4ODQ2MS40OTc1NDg3NTExCiAgICAgIH0sIHsKICAgICAgICB4OiA1OTAxNzUwLjYzMzE2NTE1OTMsCiAgICAgICAgeTogMzkwMjU2Ni43NDgwMzQxMTk2CiAgICAgIH0sIHsKICAgICAgICB4OiA1ODUwMzg0Ljk3ODY5NDAxMzMsCiAgICAgICAgeTogMzgwMzUwNC40MTQ0MTExOTIzCiAgICAgIH1dOwogICAgICB2YXIgciA9IENvb3JkaW5hdGVzVXRpbC5tZXJjYXRvclRvTG5nTGF0cyhsaXN0KTsKICAgICAgY29uc29sZS5sb2coJ3JyJywgSlNPTi5zdHJpbmdpZnkocikpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"names":["CoordinatesUtil","_interopRequireWildcard","require","name","data","fileList","mounted","$nextTick","setTimeout","map","window","methods","onChange","file","_this","console","log","fileReader","FileReader","onload","e","result","target","JSON","parse","toGeoJSON","RECORDS","readAsText","raw","geoJSON","features","forEach","item","idx","push","properties","geometry","type","coordinates","Number","longitude","latitude","writeFile","stringify","content","filename","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","mercatorToLngLat","list","x","y","r","mercatorToLngLats","exports","default","_default"],"sources":["src/views/biz/tools/index.vue"],"sourcesContent":["<template>\n  <div style=\"padding: 10px;\">\n    点json 转 geojson\n    <el-upload\n      class=\"upload-demo\"\n      ref=\"upload\"\n      action=\"ee\"\n      :on-change=\"onChange\"\n      :file-list=\"fileList\"\n      :auto-upload=\"false\">\n      <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n    </el-upload>\n    墨卡托坐标系与经纬度坐标系互相转换\n    <el-button slot=\"trigger\" size=\"small\" type=\"primary\" @click=\"mercatorToLngLat\">to LngLat</el-button>\n  </div>\n</template>\n\n<script>\nimport *  as CoordinatesUtil from './biz/CoordinatesUtil'\nexport default {\n  name: 'index',\n  data() {\n    return {\n      fileList: []\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      setTimeout(() => {\n        const map = window.map\n      }, 1000)\n    })\n  },\n  methods: {\n    onChange(file) {\n      console.log(file)\n      let fileReader = new FileReader()\n      fileReader.onload = e => {\n        const result = e.target.result\n        const data = JSON.parse(result)\n        console.log('data', data)\n        this.toGeoJSON(data.RECORDS, file)\n      }\n      fileReader.readAsText(file.raw)\n    },\n    toGeoJSON(data, file) {\n      const geoJSON = {\n        \"type\": \"FeatureCollection\",\n        \"crs\": { \"type\": \"name\", \"properties\": { \"name\": \"EPSG:4326\" } },\n        \"features\": []\n        // \"features\": [{ \"type\": \"Feature\", \"id\": 15, \"properties\": {}, \"geometry\": { \"type\": \"Polygon\", \"coordinates\": [] } }]\n      }\n      const features = []\n      data.forEach((item, idx) => {\n        features.push({\n          \"type\": \"Feature\", \"id\": idx, properties: item, geometry: {type: 'Point', coordinates: [Number(item.longitude), Number(item.latitude)]}\n        })\n      })\n      geoJSON.features = features\n      this.writeFile(JSON.stringify(geoJSON), file.name + '.geojson')\n    },\n    writeFile(content, filename) {\n      const blob = new Blob([content], { type: 'text/plain' })\n      const link = document.createElement('a')\n      link.href = window.URL.createObjectURL(blob)\n      link.download = filename\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n    },\n    mercatorToLngLat(){\n      const list =  [{x: 5850384.9786940133, y: 3803504.4144111923},\n        {x: 5965346.2053675344, y: 3700773.1054688962},\n        {x: 6120666.1605541017, y: 3511209.380634896} ,\n        {x: 6205052.5928995553, y: 3486749.5451724469},\n        {x: 6288216.0334718945, y: 3516101.3477273891},\n        {x: 6404400.25191854, y: 3667752.327594589}\t  ,\n        {x: 6552382.2564663682, y: 3814511.3403692963},\n        {x: 6715040.1622916711, y: 3969831.2955558603},\n        {x: 6929063.72258812, y: 4206480.2036550809}  ,\n        {x: 7140641.2993383231, y: 4496940.74977169}  ,\n        {x: 6766405.816762818, y: 4655929.6802776251} ,\n        {x: 6456988.8981628064, y: 4638807.7954539061},\n        {x: 6234404.3954544961, y: 4452913.0459392779},\n        {x: 5992252.0243762294, y: 4088461.4975487511},\n        {x: 5901750.6331651593, y: 3902566.7480341196},\n        {x: 5850384.9786940133, y: 3803504.4144111923}]\n      const r = CoordinatesUtil.mercatorToLngLats(list)\n      console.log('rr', JSON.stringify(r))\n\n      \n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;AAkBA,IAAAA,eAAA,GAAAC,uBAAA,CAAAC,OAAA;;;;;;;;;;;;;;;;;;eACA;EACAC,IAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,SAAA;MACAC,UAAA;QACA,IAAAC,GAAA,GAAAC,MAAA,CAAAD,GAAA;MACA;IACA;EACA;EACAE,OAAA;IACAC,QAAA,WAAAA,SAAAC,IAAA;MAAA,IAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAH,IAAA;MACA,IAAAI,UAAA,OAAAC,UAAA;MACAD,UAAA,CAAAE,MAAA,aAAAC,CAAA;QACA,IAAAC,MAAA,GAAAD,CAAA,CAAAE,MAAA,CAAAD,MAAA;QACA,IAAAjB,IAAA,GAAAmB,IAAA,CAAAC,KAAA,CAAAH,MAAA;QACAN,OAAA,CAAAC,GAAA,SAAAZ,IAAA;QACAU,KAAA,CAAAW,SAAA,CAAArB,IAAA,CAAAsB,OAAA,EAAAb,IAAA;MACA;MACAI,UAAA,CAAAU,UAAA,CAAAd,IAAA,CAAAe,GAAA;IACA;IACAH,SAAA,WAAAA,UAAArB,IAAA,EAAAS,IAAA;MACA,IAAAgB,OAAA;QACA;QACA;UAAA;UAAA;YAAA;UAAA;QAAA;QACA;QACA;MACA;;MACA,IAAAC,QAAA;MACA1B,IAAA,CAAA2B,OAAA,WAAAC,IAAA,EAAAC,GAAA;QACAH,QAAA,CAAAI,IAAA;UACA;UAAA,MAAAD,GAAA;UAAAE,UAAA,EAAAH,IAAA;UAAAI,QAAA;YAAAC,IAAA;YAAAC,WAAA,GAAAC,MAAA,CAAAP,IAAA,CAAAQ,SAAA,GAAAD,MAAA,CAAAP,IAAA,CAAAS,QAAA;UAAA;QACA;MACA;MACAZ,OAAA,CAAAC,QAAA,GAAAA,QAAA;MACA,KAAAY,SAAA,CAAAnB,IAAA,CAAAoB,SAAA,CAAAd,OAAA,GAAAhB,IAAA,CAAAV,IAAA;IACA;IACAuC,SAAA,WAAAA,UAAAE,OAAA,EAAAC,QAAA;MACA,IAAAC,IAAA,OAAAC,IAAA,EAAAH,OAAA;QAAAP,IAAA;MAAA;MACA,IAAAW,IAAA,GAAAC,QAAA,CAAAC,aAAA;MACAF,IAAA,CAAAG,IAAA,GAAAzC,MAAA,CAAA0C,GAAA,CAAAC,eAAA,CAAAP,IAAA;MACAE,IAAA,CAAAM,QAAA,GAAAT,QAAA;MACAI,QAAA,CAAAM,IAAA,CAAAC,WAAA,CAAAR,IAAA;MACAA,IAAA,CAAAS,KAAA;MACAR,QAAA,CAAAM,IAAA,CAAAG,WAAA,CAAAV,IAAA;IACA;IACAW,gBAAA,WAAAA,iBAAA;MACA,IAAAC,IAAA;QAAAC,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA,GACA;QAAAD,CAAA;QAAAC,CAAA;MAAA;MACA,IAAAC,CAAA,GAAA/D,eAAA,CAAAgE,iBAAA,CAAAJ,IAAA;MACA7C,OAAA,CAAAC,GAAA,OAAAO,IAAA,CAAAoB,SAAA,CAAAoB,CAAA;IAGA;EACA;AACA;AAAAE,OAAA,CAAAC,OAAA,GAAAC,QAAA"}]}