{"remainingRequest":"E:\\GitProject\\T-DBSCAN\\node_modules\\babel-loader\\lib\\index.js!E:\\GitProject\\T-DBSCAN\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\GitProject\\T-DBSCAN\\src\\plugins\\shpwrite\\src\\dbfJS.js","dependencies":[{"path":"E:\\GitProject\\T-DBSCAN\\src\\plugins\\shpwrite\\src\\dbfJS.js","mtime":1714355784000},{"path":"E:\\GitProject\\T-DBSCAN\\babel.config.js","mtime":1677117676000},{"path":"E:\\GitProject\\T-DBSCAN\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitProject\\T-DBSCAN\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\GitProject\\T-DBSCAN\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1720856214296}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCJFOi9HaXRQcm9qZWN0L1QtREJTQ0FOL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIpLmRlZmF1bHQ7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5wdXNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CnZhciBhY2Nlc3NvciA9IHJlcXVpcmUoJ2RiZi1qcycpOwoKLyoqCiAqCiAqIEBwYXJhbSBkYXRhOkFycmF5CiAqIEBwYXJhbSBtZXRhOkFycmF5CiAqLwptb2R1bGUuZXhwb3J0cy5zdHJ1Y3R1cmUgPSBmdW5jdGlvbiAoZGF0YSwgZmlsZU5hbWUpIHsKICB2YXIgZmllbGRfbWV0YSA9IG11bHRpKGRhdGEpOwogIHZhciB2YWxCb2R5ID0gW107CiAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3csIG51bSkgewogICAgdmFyIHZhbCA9IHt9OwogICAgZmllbGRfbWV0YS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkgewogICAgICB2YWxbZmllbGQubmFtZV0gPSByb3dbZmllbGQubmFtZV07CiAgICB9KTsKICAgIHZhbEJvZHkucHVzaCh2YWwpOwogIH0pOwogIHJldHVybiBhY2Nlc3Nvci53cml0ZShmaWVsZF9tZXRhLCB2YWxCb2R5LCBmaWxlTmFtZSwgJ3V0ZjgnKTsgLy8gdXRmOCBieSB3bSAyMDI0LjQuMjQKfTsKdmFyIGZpZWxkU2l6ZSA9IHsKICAvLyBzdHJpbmcKICBDOiAyNTQsCiAgLy8gYm9vbGVhbgogIEw6IDEsCiAgLy8gZGF0ZQogIEQ6IDgsCiAgLy8gbnVtYmVyCiAgTjogMTgsCiAgLy8gbnVtYmVyCiAgTTogMTgsCiAgLy8gbnVtYmVyLCBmbG9hdAogIEY6IDE4LAogIC8vIG51bWJlcgogIEI6IDgKfTsKZnVuY3Rpb24gbXVsdGkoZmVhdHVyZXMpIHsKICB2YXIgZmllbGRzID0ge307CiAgZmVhdHVyZXMuZm9yRWFjaChjb2xsZWN0KTsKICBmdW5jdGlvbiBjb2xsZWN0KGYpIHsKICAgIGluaGVyaXQoZmllbGRzLCBmKTsKICB9CiAgcmV0dXJuIG9iaihmaWVsZHMpOwp9CmZ1bmN0aW9uIGluaGVyaXQoYSwgYikgewogIGZvciAodmFyIGkgaW4gYikgewogICAgdmFyIGlzRGVmID0gdHlwZW9mIGJbaV0gIT09ICd1bmRlZmluZWQnICYmIGJbaV0gIT09IG51bGw7CiAgICBpZiAodHlwZW9mIGFbaV0gPT09ICd1bmRlZmluZWQnIHx8IGlzRGVmKSB7CiAgICAgIGFbaV0gPSBiW2ldOwogICAgfQogIH0KICByZXR1cm4gYTsKfQpmdW5jdGlvbiBvYmooXykgewogIHZhciBmaWVsZHMgPSB7fSwKICAgIG8gPSBbXTsKICB2YXIgdHlwZXMgPSB7CiAgICBzdHJpbmc6ICdDJywKICAgIG51bWJlcjogJ04nLAogICAgYm9vbGVhbjogJ0wnLAogICAgLy8gdHlwZSB0byB1c2UgaWYgYWxsIHZhbHVlcyBvZiBhIGZpZWxkIGFyZSBudWxsCiAgICBudWxsOiAnQycKICB9OwogIGZvciAodmFyIHAgaW4gXykgZmllbGRzW3BdID0gX1twXSA9PT0gbnVsbCA/ICdudWxsJyA6IF90eXBlb2YoX1twXSk7CiAgZm9yICh2YXIgbiBpbiBmaWVsZHMpIHsKICAgIHZhciB0ID0gdHlwZXNbZmllbGRzW25dXTsKICAgIGlmICh0KSB7CiAgICAgIG8ucHVzaCh7CiAgICAgICAgbmFtZTogbiwKICAgICAgICB0eXBlOiB0LAogICAgICAgIHNpemU6IGZpZWxkU2l6ZVt0XQogICAgICB9KTsKICAgIH0KICB9CiAgcmV0dXJuIG87Cn0="},{"version":3,"names":["accessor","require","module","exports","structure","data","fileName","field_meta","multi","valBody","forEach","row","num","val","field","name","push","write","fieldSize","C","L","D","N","M","F","B","features","fields","collect","f","inherit","obj","a","b","i","isDef","_","o","types","string","number","boolean","null","p","_typeof","n","t","type","size"],"sources":["E:/GitProject/T-DBSCAN/src/plugins/shpwrite/src/dbfJS.js"],"sourcesContent":["const accessor = require('dbf-js')\n\n/**\n *\n * @param data:Array\n * @param meta:Array\n */\nmodule.exports.structure = function(data, fileName) {\n  let field_meta = multi(data)\n  let valBody = []\n  data.forEach(function(row, num) {\n    let val = {}\n    field_meta.forEach(field => {\n      val[field.name] = row[field.name]\n    })\n    valBody.push(val)\n  })\n\n  return accessor.write(field_meta, valBody, fileName, 'utf8') // utf8 by wm 2024.4.24\n}\n\nconst fieldSize = {\n  // string\n  C: 254,\n  // boolean\n  L: 1,\n  // date\n  D: 8,\n  // number\n  N: 18,\n  // number\n  M: 18,\n  // number, float\n  F: 18,\n  // number\n  B: 8\n}\n\n\n\nfunction multi(features) {\n  var fields = {}\n  features.forEach(collect)\n\n  function collect(f) {\n    inherit(fields, f)\n  }\n\n  return obj(fields)\n}\n\nfunction inherit(a, b) {\n  for (var i in b) {\n    var isDef = typeof b[i] !== 'undefined' && b[i] !== null\n    if (typeof a[i] === 'undefined' || isDef) {\n      a[i] = b[i]\n    }\n  }\n  return a\n}\n\nfunction obj(_) {\n  var fields = {}, o = []\n  var types = {\n    string: 'C',\n    number: 'N',\n    boolean: 'L',\n    // type to use if all values of a field are null\n    null: 'C'\n  };\n  for (var p in _) fields[p] = _[p] === null ? 'null' : typeof _[p]\n  for (var n in fields) {\n    var t = types[fields[n]]\n    if (t) {\n      o.push({\n        name: n,\n        type: t,\n        size: fieldSize[t]\n      })\n    }\n  }\n  return o\n}\n"],"mappings":";;;;;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,QAAQ,CAAC;;AAElC;AACA;AACA;AACA;AACA;AACAC,MAAM,CAACC,OAAO,CAACC,SAAS,GAAG,UAASC,IAAI,EAAEC,QAAQ,EAAE;EAClD,IAAIC,UAAU,GAAGC,KAAK,CAACH,IAAI,CAAC;EAC5B,IAAII,OAAO,GAAG,EAAE;EAChBJ,IAAI,CAACK,OAAO,CAAC,UAASC,GAAG,EAAEC,GAAG,EAAE;IAC9B,IAAIC,GAAG,GAAG,CAAC,CAAC;IACZN,UAAU,CAACG,OAAO,CAAC,UAAAI,KAAK,EAAI;MAC1BD,GAAG,CAACC,KAAK,CAACC,IAAI,CAAC,GAAGJ,GAAG,CAACG,KAAK,CAACC,IAAI,CAAC;IACnC,CAAC,CAAC;IACFN,OAAO,CAACO,IAAI,CAACH,GAAG,CAAC;EACnB,CAAC,CAAC;EAEF,OAAOb,QAAQ,CAACiB,KAAK,CAACV,UAAU,EAAEE,OAAO,EAAEH,QAAQ,EAAE,MAAM,CAAC,EAAC;AAC/D,CAAC;AAED,IAAMY,SAAS,GAAG;EAChB;EACAC,CAAC,EAAE,GAAG;EACN;EACAC,CAAC,EAAE,CAAC;EACJ;EACAC,CAAC,EAAE,CAAC;EACJ;EACAC,CAAC,EAAE,EAAE;EACL;EACAC,CAAC,EAAE,EAAE;EACL;EACAC,CAAC,EAAE,EAAE;EACL;EACAC,CAAC,EAAE;AACL,CAAC;AAID,SAASjB,KAAKA,CAACkB,QAAQ,EAAE;EACvB,IAAIC,MAAM,GAAG,CAAC,CAAC;EACfD,QAAQ,CAAChB,OAAO,CAACkB,OAAO,CAAC;EAEzB,SAASA,OAAOA,CAACC,CAAC,EAAE;IAClBC,OAAO,CAACH,MAAM,EAAEE,CAAC,CAAC;EACpB;EAEA,OAAOE,GAAG,CAACJ,MAAM,CAAC;AACpB;AAEA,SAASG,OAAOA,CAACE,CAAC,EAAEC,CAAC,EAAE;EACrB,KAAK,IAAIC,CAAC,IAAID,CAAC,EAAE;IACf,IAAIE,KAAK,GAAG,OAAOF,CAAC,CAACC,CAAC,CAAC,KAAK,WAAW,IAAID,CAAC,CAACC,CAAC,CAAC,KAAK,IAAI;IACxD,IAAI,OAAOF,CAAC,CAACE,CAAC,CAAC,KAAK,WAAW,IAAIC,KAAK,EAAE;MACxCH,CAAC,CAACE,CAAC,CAAC,GAAGD,CAAC,CAACC,CAAC,CAAC;IACb;EACF;EACA,OAAOF,CAAC;AACV;AAEA,SAASD,GAAGA,CAACK,CAAC,EAAE;EACd,IAAIT,MAAM,GAAG,CAAC,CAAC;IAAEU,CAAC,GAAG,EAAE;EACvB,IAAIC,KAAK,GAAG;IACVC,MAAM,EAAE,GAAG;IACXC,MAAM,EAAE,GAAG;IACXC,OAAO,EAAE,GAAG;IACZ;IACAC,IAAI,EAAE;EACR,CAAC;EACD,KAAK,IAAIC,CAAC,IAAIP,CAAC,EAAET,MAAM,CAACgB,CAAC,CAAC,GAAGP,CAAC,CAACO,CAAC,CAAC,KAAK,IAAI,GAAG,MAAM,GAAAC,OAAA,CAAUR,CAAC,CAACO,CAAC,CAAC;EACjE,KAAK,IAAIE,CAAC,IAAIlB,MAAM,EAAE;IACpB,IAAImB,CAAC,GAAGR,KAAK,CAACX,MAAM,CAACkB,CAAC,CAAC,CAAC;IACxB,IAAIC,CAAC,EAAE;MACLT,CAAC,CAACrB,IAAI,CAAC;QACLD,IAAI,EAAE8B,CAAC;QACPE,IAAI,EAAED,CAAC;QACPE,IAAI,EAAE9B,SAAS,CAAC4B,CAAC;MACnB,CAAC,CAAC;IACJ;EACF;EACA,OAAOT,CAAC;AACV","ignoreList":[]}]}