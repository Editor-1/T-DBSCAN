{"remainingRequest":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\workspace_wm\\web-ui-travel\\src\\views\\biz\\tools\\poi\\PoiPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\workspace_wm\\web-ui-travel\\src\\views\\biz\\tools\\poi\\PoiPanel.vue","mtime":1720085886599},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\work\\workspace_wm\\web-ui-travel\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEcmF3UG9pIGZyb20gJy4vRHJhd1BvaScKaW1wb3J0ICogYXMgUGF0aExheWVyIGZyb20gJy4uL2NvbW0vUGF0aExheWVyJwpjb25zdCBwb2ludGVySW1nID0gcmVxdWlyZSgnQC9hc3NldHMvaW1hZ2VzL2xvY2F0aW9uNjQucG5nJykKaW1wb3J0ICogYXMgRmlsZVNhdmUgZnJvbSAnLi9GaWxlU2F2ZScKaW1wb3J0IHsgZ2V0VXVpZCB9IGZyb20gJy4uL2Jpei9jb21tb24nCgpsZXQgZHJhd1BvaQpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BvaVBhbmVsJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBwYWdlOiAnbGlzdCcsCiAgICAgIGN1cnJlbnRQb2ludDogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHRpbWU6ICcnCiAgICAgIH0sCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgcG9pbnRlckltZzogcG9pbnRlckltZywKICAgICAgZHJhd2luZzogZmFsc2UsCiAgICAgIGtleVdvcmQ6ICcnCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICBkcmF3UG9pID0gbmV3IERyYXdQb2kodGhpcykKICAgICAgUGF0aExheWVyLmluaXQoKQogICAgfSkKICAgIHRoaXMubG9hZERhdGEoKQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIGRyYXdQb2kuY2xlYXIoKQogICAgZHJhd1BvaS5kcmF3Q2FuY2VsKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWREYXRhKCkgewogICAgICBGaWxlU2F2ZS5nZXRMaXN0KCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCdyZXMnLCByZXMpCiAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgY29uc3QgbGlzdCA9IHJlcwogICAgICAgICAgLy8gc2V0IHBob3RvIDAKICAgICAgICAgIGxpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgaWYgKGl0ZW0ucGhvdG9zKSB7CiAgICAgICAgICAgICAgY29uc3QgYXJyID0gaXRlbS5waG90b3Muc3BsaXQoJyMnKQogICAgICAgICAgICAgIGlmIChhcnIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgaXRlbVsncGhvdG8wJ10gPSBhcnJbMF0KICAgICAgICAgICAgICAgIGl0ZW1bJ3Bob3RvQXJyJ10gPSBhcnIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gbGlzdAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gW10KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgc3RhcnREcmF3KCkgewogICAgICB0aGlzLmRyYXdpbmcgPSB0cnVlCiAgICAgIHRoaXMuZmlsZUxpc3QgPSBbXQogICAgICBkcmF3UG9pLmRyYXcoKQogICAgfSwKICAgIGNhbmNlbERyYXcoKSB7CiAgICAgIGRyYXdQb2kuZHJhd0NhbmNlbCgpCiAgICAgIHRoaXMuZHJhd2luZyA9IGZhbHNlCiAgICB9LAogICAgYmFja1RvTGlzdCgpIHsKICAgICAgdGhpcy5wYWdlID0gJ2xpc3QnCiAgICAgIGRyYXdQb2kuY2xlYXIoKQogICAgICB0aGlzLiRyZWZzLnBvaUZvcm0ucmVzZXRGaWVsZHMoKQogICAgfSwKICAgIHNhdmUoKSB7CiAgICAgIHRoaXMuJHJlZnMucG9pRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIGNvbnN0IGN1cnJlbnRQb2ludCA9IHRoaXMuY3VycmVudFBvaW50CgogICAgICAgIGNvbnN0IHBhcmFtID0gewogICAgICAgICAgbmFtZTogY3VycmVudFBvaW50Lm5hbWUsCiAgICAgICAgICB0aW1lOiBjdXJyZW50UG9pbnQudGltZSwKICAgICAgICAgIGxvbmdpdHVkZTogY3VycmVudFBvaW50LmxuZywKICAgICAgICAgIGxhdGl0dWRlOiBjdXJyZW50UG9pbnQubGF0LAogICAgICAgICAgYWx0aXR1ZGU6IGN1cnJlbnRQb2ludC5hbHRpdHVkZSB8fCAwLAogICAgICAgICAgcGhvdG9zOiAnJywKICAgICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgICAgZGVzYzogY3VycmVudFBvaW50LmRlc2MgfHwgJycKICAgICAgICB9CiAgICAgICAgY29uc3QgcGhvdG9zID0gW10KICAgICAgICBjb25zb2xlLmxvZygndGhpcy5maWxlTGlzdCcsIHRoaXMuZmlsZUxpc3QpCiAgICAgICAgaWYgKHRoaXMuZmlsZUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgdGhpcy5maWxlTGlzdC5mb3JFYWNoKGYgPT4gewogICAgICAgICAgICBwaG90b3MucHVzaChmLm5hbWUpCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgICBpZiAocGhvdG9zLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHBhcmFtLnBob3RvcyA9IHBob3Rvcy5qb2luKCcjJykKICAgICAgICB9CgogICAgICAgIGlmIChjdXJyZW50UG9pbnQuaWQpIHsKICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmRhdGFMaXN0LmZpbmQoZCA9PiBkLmlkID09PSBjdXJyZW50UG9pbnQuaWQpCiAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLm5hbWUgPSBjdXJyZW50UG9pbnQubmFtZSB8fCAnJwogICAgICAgICAgICBpdGVtLnRpbWUgPSBjdXJyZW50UG9pbnQudGltZSB8fCAnJwogICAgICAgICAgICBpdGVtLmxvbmdpdHVkZSA9IGN1cnJlbnRQb2ludC5sbmcKICAgICAgICAgICAgaXRlbS5sYXRpdHVkZSA9IGN1cnJlbnRQb2ludC5sYXQKICAgICAgICAgICAgaXRlbS5hbHRpdHVkZSA9IGN1cnJlbnRQb2ludC5hbHRpdHVkZSB8fCAwLAogICAgICAgICAgICBpdGVtLnBob3RvcyA9IHBhcmFtLnBob3RvcwogICAgICAgICAgICBpdGVtLmFkZHJlc3MgPSBwYXJhbS5hZGRyZXNzCiAgICAgICAgICAgIGl0ZW0uZGVzYyA9IGN1cnJlbnRQb2ludC5kZXNjIHx8ICcnCiAgICAgICAgICAgIEZpbGVTYXZlLmNyZWF0ZSh0aGlzLmRhdGFMaXN0KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZVN1Y2Nlc3MoKQogICAgICAgICAgICAgIHRoaXMuYmFja1RvTGlzdCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHBhcmFtWydpZCddID0gZ2V0VXVpZCgpCiAgICAgICAgICB0aGlzLmRhdGFMaXN0LnB1c2gocGFyYW0pCiAgICAgICAgICBGaWxlU2F2ZS5jcmVhdGUodGhpcy5kYXRhTGlzdCkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlU3VjY2VzcygpCiAgICAgICAgICAgIHRoaXMuYmFja1RvTGlzdCgpCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBmbHlUbyhpdGVtKSB7CiAgICAgIGRyYXdQb2kuZmx5VG8oaXRlbSkKICAgIH0sCiAgICBlZGl0KGl0ZW0pIHsKICAgICAgdGhpcy5maWxlTGlzdCA9IFtdCiAgICAgIGNvbnN0IHBob3RvcyA9IGl0ZW0ucGhvdG9zCiAgICAgIGlmIChwaG90b3MpIHsKICAgICAgICBjb25zdCBhcnIgPSBwaG90b3Muc3BsaXQoJyMnKQogICAgICAgIGFyci5mb3JFYWNoKHVybCA9PiB7CiAgICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2goewogICAgICAgICAgICBzdGF0dXM6ICdkb25lJywKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIG5hbWU6IHVybCwKICAgICAgICAgICAgdWlkOiBnZXRVdWlkKCkKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfQogICAgICBkcmF3UG9pLmVkaXQoaXRlbSkKICAgIH0sCiAgICBkZWxldGVDbGljayhpdGVtKSB7CiAgICAgIGNvbnN0IGlkeCA9IHRoaXMuZGF0YUxpc3QuZmluZEluZGV4KGQgPT4gZC5pZCA9PT0gaXRlbS5pZCkKICAgICAgdGhpcy5kYXRhTGlzdC5zcGxpY2UoaWR4LCAxKQogICAgICBGaWxlU2F2ZS5jcmVhdGUodGhpcy5kYXRhTGlzdCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2VTdWNjZXNzKCkKICAgICAgICB0aGlzLmxvYWREYXRhKCkKICAgICAgICBkcmF3UG9pLmNsZWFyQnlJZChpdGVtLmlkKQogICAgICB9KQogICAgfSwKICAgIGxpc3RDaGFuZ2UobGlzdCkgewogICAgICB0aGlzLmZpbGVMaXN0ID0gbGlzdAogICAgfSwKICAgIGxhdExuZ0NoYW5nZSh2KSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRQb2ludC5sYXQgJiYgdGhpcy5jdXJyZW50UG9pbnQubG5nKSB7CiAgICAgICAgZHJhd1BvaS5zZXRMYXRMbmcodGhpcy5jdXJyZW50UG9pbnQubGF0LCB0aGlzLmN1cnJlbnRQb2ludC5sbmcpCiAgICAgIH0KICAgIH0sCiAgICBwb2lTd2l0Y2goZSkgewogICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkgewogICAgICAgIHNhdmVSZWNvcmQoJ+WcsOWbvuS4reafpeeci+aJgOacieWFtOi2o+eCueWIhuW4gycsICcxMScsICcxJykKICAgICAgICBQb2lDb250ZXh0LmdldExheWVyKCkuc2hvdygpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgUG9pQ29udGV4dC5nZXRMYXllcigpLmhpZGUoKQogICAgICB9CiAgICB9LAogICAgc2hvd1BhdGgoaXRlbSkgewogICAgICBQYXRoTGF5ZXIucGF0aCgpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["PoiPanel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PoiPanel.vue","sourceRoot":"src/views/biz/tools/poi","sourcesContent":["<template>\n  <div style=\"overflow: auto;width: 260px;background: white;\">\n    <div v-show=\"page == 'list'\" class=\"poiPage\" style=\"margin-top: 10px;\">\n      <section style=\"margin: 0 20px;color:black;\">\n        <div style=\"width: 100%;line-height:30px;color: #606266;\">\n          <el-checkbox style=\"line-height: 30px;\" @change=\"poiSwitch\">\n            全部\n          </el-checkbox>\n          <div v-show=\"dataList.length>0\" style=\"float: right;\">\n            <el-button v-if=\"!drawing\" type=\"link\" @click=\"startDraw\">\n              <i class=\"iconfont icon-jia-line\" /> 标绘\n            </el-button>\n            <el-button v-if=\"drawing\" type=\"link\" @click=\"cancelDraw\">\n              取消\n            </el-button>\n          </div>\n        </div>\n        <div style=\"clear: right;\">\n          <el-input\n            v-model=\"keyWord\"\n            placeholder=\"搜索\"\n            style=\"width:220px;margin-top: 10px;\"\n            allow-clear\n            enter-button\n            @pressEnter=\"loadData\"\n            @search=\"loadData\"\n          />\n        </div>\n      </section>\n      <section style=\"margin: 20px;color:black;\">\n        <el-empty v-show=\"dataList.length<1\" style=\"color: #606266;margin-top: 20px;padding-top: 120px;height:calc(100vh - 100px)\">\n          <span slot=\"description\"> 无数据 </span>\n          <el-button v-if=\"!drawing\" type=\"link\" @click=\"startDraw\">\n            <i class=\"iconfont icon-jia-line\" /> 标绘\n          </el-button>\n          <el-button v-if=\"drawing\" type=\"primary\" @click=\"cancelDraw\">\n            取消\n          </el-button>\n        </el-empty>\n        <div v-show=\"dataList.length > 0\" item-layout=\"horizontal\" :data-source=\"dataList\" :style=\"{ height: 'calc(100vh - 240px)',overflow: 'auto' }\">\n          <div v-for=\"item in dataList\">\n            <div style=\"line-height: 32px;border-bottom: 1px solid #d3e1f5;\">\n              <div style=\"display: inline-block;\" @click=\"showPath(item)\">{{ item.name }}</div>\n              <div style=\"float: right;\">\n\n                <el-button slot=\"actions\" type=\"text\" class=\"btn-link\" ghost @click=\"edit(item)\">编辑</el-button>\n                <el-button slot=\"actions\" type=\"text\" class=\"btn-link hover-red\" ghost @click=\"deleteClick(item)\">删除</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div v-show=\"page == 'edit'\">\n      <div style=\"padding: 20px;max-height: calc(100vh - 130px);overflow: auto;\">\n        <el-form ref=\"poiForm\" :model=\"currentPoint\" size=\"small\">\n          <el-form-item prop=\"name\" label=\"名称\">\n            <el-input v-model=\"currentPoint.name\" allow-clear />\n          </el-form-item>\n          <el-form-item prop=\"name\" label=\"时间\">\n            <el-input v-model=\"currentPoint.time\" allow-clear />\n          </el-form-item>\n          <el-form-item label=\"x\">\n            <el-input v-model=\"currentPoint.lng\" :min=\"-180\" :max=\"180\" @change=\"latLngChange\" />\n          </el-form-item>\n          <el-form-item label=\"y\">\n            <el-input v-model=\"currentPoint.lat\" :min=\"-90\" :max=\"90\" @change=\"latLngChange\" />\n          </el-form-item>\n          <el-form-item label=\"描述\" style=\"margin-bottom: 0;\">\n            <el-input v-model=\"currentPoint.desc\" type=\"textarea\" />\n          </el-form-item>\n          <el-form-item\n            label=\"图片\"\n            style=\"margin-top: 10px;\"\n          >\n            <image-upload :fileList=\"fileList\" type=\"poi\" @listChange=\"listChange\" />\n          </el-form-item>\n        </el-form>\n        <div style=\"width: 100%;\">\n          <el-button @click=\"backToList\">\n            返回\n            </el-button>\n            <div style=\"float: right;\">\n              <el-button style=\"margin-left: 10px;\" type=\"primary\" @click=\"save\">确定</el-button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DrawPoi from './DrawPoi'\nimport * as PathLayer from '../comm/PathLayer'\nconst pointerImg = require('@/assets/images/location64.png')\nimport * as FileSave from './FileSave'\nimport { getUuid } from '../biz/common'\n\nlet drawPoi\nexport default {\n  name: 'PoiPanel',\n  data() {\n    return {\n      dataList: [],\n      page: 'list',\n      currentPoint: {\n        name: '',\n        time: ''\n      },\n      fileList: [],\n      pointerImg: pointerImg,\n      drawing: false,\n      keyWord: ''\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      drawPoi = new DrawPoi(this)\n      PathLayer.init()\n    })\n    this.loadData()\n  },\n  beforeDestroy() {\n    drawPoi.clear()\n    drawPoi.drawCancel()\n  },\n  methods: {\n    loadData() {\n      FileSave.getList().then(res => {\n        console.log('res', res)\n        if (res) {\n          const list = res\n          // set photo 0\n          list.forEach(item => {\n            if (item.photos) {\n              const arr = item.photos.split('#')\n              if (arr.length > 0) {\n                item['photo0'] = arr[0]\n                item['photoArr'] = arr\n              }\n            }\n          })\n          this.dataList = list\n        } else {\n          this.dataList = []\n        }\n      })\n    },\n    startDraw() {\n      this.drawing = true\n      this.fileList = []\n      drawPoi.draw()\n    },\n    cancelDraw() {\n      drawPoi.drawCancel()\n      this.drawing = false\n    },\n    backToList() {\n      this.page = 'list'\n      drawPoi.clear()\n      this.$refs.poiForm.resetFields()\n    },\n    save() {\n      this.$refs.poiForm.validate(valid => {\n        if (!valid) {\n          return\n        }\n        const currentPoint = this.currentPoint\n\n        const param = {\n          name: currentPoint.name,\n          time: currentPoint.time,\n          longitude: currentPoint.lng,\n          latitude: currentPoint.lat,\n          altitude: currentPoint.altitude || 0,\n          photos: '',\n          address: '',\n          desc: currentPoint.desc || ''\n        }\n        const photos = []\n        console.log('this.fileList', this.fileList)\n        if (this.fileList.length > 0) {\n          this.fileList.forEach(f => {\n            photos.push(f.name)\n          })\n        }\n        if (photos.length > 0) {\n          param.photos = photos.join('#')\n        }\n\n        if (currentPoint.id) {\n          const item = this.dataList.find(d => d.id === currentPoint.id)\n          if (item) {\n            item.name = currentPoint.name || ''\n            item.time = currentPoint.time || ''\n            item.longitude = currentPoint.lng\n            item.latitude = currentPoint.lat\n            item.altitude = currentPoint.altitude || 0,\n            item.photos = param.photos\n            item.address = param.address\n            item.desc = currentPoint.desc || ''\n            FileSave.create(this.dataList).then(res => {\n              this.$messageSuccess()\n              this.backToList()\n            })\n          }\n        } else {\n          param['id'] = getUuid()\n          this.dataList.push(param)\n          FileSave.create(this.dataList).then(res => {\n            this.$messageSuccess()\n            this.backToList()\n          })\n        }\n      })\n    },\n    flyTo(item) {\n      drawPoi.flyTo(item)\n    },\n    edit(item) {\n      this.fileList = []\n      const photos = item.photos\n      if (photos) {\n        const arr = photos.split('#')\n        arr.forEach(url => {\n          this.fileList.push({\n            status: 'done',\n            url: url,\n            name: url,\n            uid: getUuid()\n          })\n        })\n      }\n      drawPoi.edit(item)\n    },\n    deleteClick(item) {\n      const idx = this.dataList.findIndex(d => d.id === item.id)\n      this.dataList.splice(idx, 1)\n      FileSave.create(this.dataList).then(res => {\n        this.$messageSuccess()\n        this.loadData()\n        drawPoi.clearById(item.id)\n      })\n    },\n    listChange(list) {\n      this.fileList = list\n    },\n    latLngChange(v) {\n      if (this.currentPoint.lat && this.currentPoint.lng) {\n        drawPoi.setLatLng(this.currentPoint.lat, this.currentPoint.lng)\n      }\n    },\n    poiSwitch(e) {\n      if (e.target.checked) {\n        saveRecord('地图中查看所有兴趣点分布', '11', '1')\n        PoiContext.getLayer().show()\n      } else {\n        PoiContext.getLayer().hide()\n      }\n    },\n    showPath(item) {\n      PathLayer.path()\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.poiImg {\n  width: 40px;\n  height: 40px;\n  border-radius: 5px;\n}\n</style>\n"]}]}